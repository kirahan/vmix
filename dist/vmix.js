!function(root,factory){if("object"==typeof exports&&"object"==typeof module)module.exports=factory();else if("function"==typeof define&&define.amd)define([],factory);else{var a=factory();for(var i in a)("object"==typeof exports?exports:root)[i]=a[i]}}(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="./",__webpack_require__(__webpack_require__.s=30)}([function(module,exports){var obj={};"undefined"!=typeof window?obj.platform="web":obj.platform="mob",module.exports=obj},function(module,exports){var _reqlib={};module.exports=_reqlib;var _htmlescapehash={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},_htmlescapereplace=function(k){return _htmlescapehash[k]};function normalizeArray(v,keepBlanks){for(var part,L=v.length,dst=new Array(L),dsti=0,i=0,negatives=0,isRelative=L&&""!==v[0];i<L;++i)".."===(part=v[i])?dsti>1?--dsti:isRelative?++negatives:dst[0]="":"."===part||0!==dsti&&!keepBlanks&&""===part||(dst[dsti++]=part);if(negatives)for(dst[--negatives]=dst[dsti-1],dsti=negatives+1;negatives--;)dst[negatives]="..";return dst.length=dsti,dst}_reqlib.htmlescape=function(str){return"string"!=typeof str?str:str.replace(/[&<>"]/gim,_htmlescapereplace)},_reqlib.normalizeId=function(id,parentId){return id=id.replace(/\/+$/g,""),normalizeArray((parentId?parentId+"/../"+id:id).split("/")).join("/")},_reqlib.normalizeUrl=function(url,baseLocation){if(!/^\w+:/.test(url)){var u=baseLocation.fullhost,path=baseLocation.pathname;"/"!=url.charAt(0)&&url.charAt(0),url="/"===url.charAt(0)?u+normalizeArray(url.split("/")).join("/"):u+normalizeArray((path+=("/"===path.charAt(path.length-1)?"":"/../")+url).split("/")).join("/")}return url},_reqlib.calUrl=function(href,pageurl){var path=pageurl,url=href;return"/"!==pageurl.charAt(0)&&(pageurl="/"+pageurl),url="/"===url.charAt(0)?normalizeArray(url.split("/")).join("/"):normalizeArray((path+=("/"===path.charAt(path.length-1)?"":"/../")+url).split("/")).join("/")},_reqlib.gen_path=function(app,url,from_path,needid,where){var location=window.location;return from_path&&0==from_path.indexOf(location.fullhost)&&(from_path=from_path.substr(location.fullhost.length)),from_path=from_path||location.pathname,-1==url.indexOf("://")&&(url=_reqlib.normalizeId(url,"."==url[0]?from_path:"")),-1==url.indexOf("://")&&(url=_reqlib.normalizeUrl(url,location)),needid?((url=url.split("//")[1])&&(url=url.substr(url.indexOf("/"))),url):url},_reqlib.cal_spec_path=function(spec,from_path){"deps"!=spec.from&&(-1==spec.url.indexOf("://")&&(spec.url=_reqlib.gen_path(spec.app,spec.url,from_path||spec.pvmpath,!1,6)),spec.knowpath&&spec.id||(spec.id=spec.url.split("//")[1],spec.id&&(spec.id=spec.id.substr(spec.id.indexOf("/")))))}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),sub_inrequires=(__webpack_require__(1),{}),inrequire=function(app,vm,id,parentId,type,where,urlsid){var mod;if(!(mod="lib"==type||"json"==type?app.__cache.get_jslib(id):app.__cache.vmlib[id]))return null;if("vm"==type&&mod.__extend_from&&"check"==where)return core_vm.extend.inmem(app,vm,id,mod.__extend_from);if("lib"!==mod.mode&&"function"==typeof mod.block){mod.exports={},function(app){sub_inrequires[app.id]||(sub_inrequires[app.id]=function(_subid){return app.__cache.get_jslib(_subid)||app.config.path.lib[_subid]&&(_subid=app.config.path.lib[_subid]),inrequire(app,null,_subid,"","lib","inreq")},Object.defineProperty(sub_inrequires,app.id,{configurable:!1,enumerable:!1,writable:!1}))}(app);try{var sub_inrequire=sub_inrequires[app.id];mod.block.call(vm||{},sub_inrequire,mod,mod.exports,app)}catch(e){console.error("inrequire_execute_error",id,e,"parentId="+parentId,"app.id="+app.id),core_vm.onerror(app,"inrequire_execute_error",id,e),mod.exports={}}"lib"==type?(mod.mode="lib",delete mod.block):void 0!==mod.mode||(0==Object.keys(mod.exports).length?mod.mode="vmfn":(mod.exports[core_vm.aprand]&&(mod.exports={}),mod.mode="lib",delete mod.block))}return"vmfn"==mod.mode?{}:mod.exports?"inreq"==where?core_vm.tool.objClone(mod.exports):mod.exports:null};module.exports={define:function(spec,id,block,type,refsid){var mod={};return core_vm.isfn(block)?mod.block=block:(mod.exports=block,mod.mode="lib"),"vm"==type?spec.app.__cache.add_vmlib(id,mod,refsid):spec.app.__cache.add_jslib(id,mod,refsid),mod},get:inrequire,extendvm:function(app,id,extend_from){var mod=app.__cache.vmlib[id];mod&&(mod.__extend_from=extend_from)},loadfilefresh_clear:function(spec,id){spec.app.__cache.loadfilefresh_clear(id)}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);core_vm.onerror=function(app,type,where,error){var cb=app.onerror;core_vm.isfn(cb)&&cb.apply(app,arguments)},core_vm.onload=function(app,url,xhr,opt){var cb=app.onload;if(core_vm.isfn(cb)){var res;try{res=cb.apply(app,arguments)}catch(e){}return res}},core_vm.elget=function(el,n){return el?el.getAttribute(n):""},core_vm.elset=function(el,n,v){return!!el&&el.setAttribute(n,v)},core_vm.getprefn=function(vm,type,name){var fn;return"app."==name.substr(0,4)?(name=name.substr(4),fn=vm.getapp()[name]):(vm[type]&&"object"==typeof vm[type]&&(fn=vm[type][name]),core_vm.isfn(fn)||(fn=vm[name]),core_vm.isfn(fn)||(fn=vm[type+"_js_"+name])),fn},core_vm.devalert=function(app_vm,title,e,err){var msg=e?e.message||e.error||e.toString():"";err&&(msg+="\n"+(err.message||err.error||err.toString())),console.error({title:"dev alert:"+title.toString(),message:msg})},core_vm.tryvmfn=function(vm,cvm,when){if(vm)if(core_vm.isfn(vm[when]))try{vm[when].call(vm,cvm)}catch(e){core_vm.devalert(vm,"vm."+when+":"+vm.id,e)}else if(core_vm.isfn(vm.hook))try{vm.hook.call(vm,when,cvm)}catch(e){core_vm.devalert(vm,"vm.hook."+when+":"+vm.id,e)}},core_vm.tryfn=function(_this,fn,args,message){if(core_vm.isfn(fn))return Array.isArray(args)||(args=[args]),fn.apply(_this,args)};const multilineComment=/^[\t\s]*\/\*\*?[^!][\s\S]*?\*\/[\r\n]/gm,specialComments=/^[\t\s]*\/\*!\*?[^!][\s\S]*?\*\/[\r\n]/gm,singleLineComment=/^[\t\s]*(\/\/)[^\n\r]*[\n\r]/gm;core_vm.delrem=function(str){return(str+="").replace(multilineComment,"").replace(specialComments,"").replace(/\/\*([\S\s]*?)\*\//g,"").replace(/\<\!\-\-[\s\S]*?\-\-\>/g,"").replace(singleLineComment,"\n").replace(/\;\s*\/\/.*(?:\r|\n|$)/g,";\n").replace(/\,\s*\/\/.*(?:\r|\n|$)/g,",\n").replace(/\{\s*\/\/.*(?:\r|\n|$)/g,"{\n").replace(/\)\s*\/\/.*(?:\r|\n|$)/g,")\n")},core_vm.isfn=function(cb){return"function"==typeof cb},core_vm.isobj=function(obj){return"object"==typeof obj},core_vm.isstr=function(obj){return"string"==typeof obj}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),seed_of_appsid=0,appclass=function(){this.sid=++seed_of_appsid,this.config={},core_vm.rootvmset.checkappconfig(this,0),this.hasstart=0,this.__events={},Object.defineProperty(this,"__events",{enumerable:!1})},proto=appclass.prototype;proto.sub=function(name,vm,cb){this.__events[name]=this.__events[name]||[],this.__events[name].push([vm,cb,0])},proto.subonce=function(name,vm,cb){this.__events[name]=this.__events[name]||[],this.__events[name].push([vm,cb,1])},proto.unsub=function(name,vm,cb){var evs=this.__events[name];if(evs)for(var k=evs.length-1;k>-1;k--)vm==evs[k][0]&&cb==evs[k][1]&&evs.splice(k,1)},proto.pub=function(name,data,vm,cb){"function"!=typeof cb&&(cb=function(){});var evs=this.__events[name];if(!evs)return cb({error:"no.listener"});core_vm.tool.each(evs,function(ev,sid){-1===ev[2]&&delete evs[sid]}),core_vm.tool.each(evs,function(ev){ev[1].call(ev[0],data,vm,function(data){cb.call(vm,data,ev[0])}),1==ev[2]&&(ev[2]=-1)});for(var k=evs.length-1;k>-1;k--)-1==evs[k][2]&&evs.splice(k,1)},proto.loadfile=function(type,filename,cb){var loadobj={url:filename};loadobj.type="vm"==type?"vm":"text"==type?"text":"lib",loadobj.urlsid=2,loadobj.refsid=2,loadobj.app=this,core_vm.require.load(loadobj,function(err,module,spec){core_vm.isfn(cb)&&cb(err,module,spec)})},proto.setData=function(vm,p,v,cb){if(vm instanceof core_vm.define.vmclass){if(core_vm.isfn(cb)||(cb=this.blankvm.__blankfn),-1==vm[core_vm.aprand].datafrom_store.indexOf(p.split(".")[0]))return cb(!1);var oldv=vm.__getData(p);if(oldv!==v){this.blankvm.__confirm_set_data_to_el(vm,p,v),cb(!0);var fn=vm.event["app.setdata"];core_vm.isfn(fn)&&fn.call(vm,{path:p,oldv,newv:v})}else cb(!1)}},proto.addData=function(vm,p,index,v,cb){if(vm instanceof core_vm.define.vmclass){if(core_vm.isfn(cb)||(cb=this.blankvm.__blankfn),-1==vm[core_vm.aprand].datafrom_store.indexOf(p.split(".")[0]))return cb(!1);this.blankvm.__confirm_add_data_to_el(vm,p,index,v,function(res){cb(res)});var fn=vm.event["app.adddata"];core_vm.isfn(fn)&&fn.call(vm,{path:p,index,value:v})}},proto.delData=function(vm,p,index,count,cb){if(vm instanceof core_vm.define.vmclass){if(core_vm.isfn(cb)||(cb=this.blankvm.__blankfn),-1==vm[core_vm.aprand].datafrom_store.indexOf(p.split(".")[0]))return cb(!1);this.blankvm.__confirm_del_data_to_el(vm,p,index,count||1,function(res){cb(res)});var fn=vm.event["app.deldata"];core_vm.isfn(fn)&&fn.call(vm,{path:p,index,count})}},proto.use=function(where,name,fn){if(core_vm.isstr(where))if(core_vm.isobj(name))for(var k in name)this.use(where,k,name[k]);else if(core_vm.isstr(name)){if("vm"==where){if(!core_vm.isobj(fn)||!fn.template&&!fn.body)return;return this.__cache.vmbody[name]=fn.template||fn.body,this.__cache.vmstyle[name]=fn.style||"",this.__cache.add_vmlib(name,{exports:fn.lib||{}}),void this.__cache.keep("vm",name)}if("lib"==where)return this.__cache.add_jslib(name,{exports:fn}),void this.__cache.keep("lib",name);("block"!==where||core_vm.isstr(fn))&&("block"===where||core_vm.isfn(fn))&&("vmprototype"==where?core_vm.define.extend(name,fn,this):this.__cache.use[where]&&(this.__cache.use[where][name]=fn))}},module.exports=appclass},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),cacheclass=function(appid){this.appid=appid,this.urlsid_seed=10,this.urlsid={},this.vmsbysid={},this.vmparent={},this.import_src_vm={},this.import_src_block={},this.import_src_lib={},this.importblock={},this.importstyle={},this.vmbody={},this.vmstyle={},this.vmlib={},this.jslib={},this.use={filter:{},method:{},operator:{},domevent:{},dataevent:{},block:{},elhook:{}}},proto=cacheclass.prototype;proto.destroy=function(){for(var k in this)this[k]=null},__webpack_require__(34).setproto(proto),__webpack_require__(35).setproto(proto),__webpack_require__(33).setproto(proto),__webpack_require__(32).setproto(proto),__webpack_require__(31).setproto(proto),proto.getapp=function(){return core_vm.wap},proto.geturlsid=function(url){return this.urlsid[url]||(this.urlsid[url]=this.urlsid_seed++),this.urlsid[url]},proto.add_ref=function(type,url,refsid,where){var mod;return"lib"!=type&&"json"!=type||(mod=this.jslib),"vm"==type&&(mod=this.vmlib),"style"==type&&(mod=this.importstyle),"block"==type&&(mod=this.importblock),!!mod&&(!!(mod=mod[url])&&(mod.refsids||(mod.refsids=[]),-1===mod.refsids.indexOf(refsid)&&mod.refsids.push(refsid),!0))},proto.check_ifhas=function(type,id,refsid){return this.add_ref(type,id,refsid,"check")},module.exports=cacheclass},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports={nodejson:function(vm,tempalte_html){vm[core_vm.aprand].node_max_sn=1;var html=vm.template||tempalte_html||"";html=core_vm.calif.multi(vm,html);var tmp=core_vm.calhtmltojson(html,vm[core_vm.aprand].node_max_sn,0,vm.getapp(),3);vm[core_vm.aprand].nodejson.push(tmp[0])},nodeid:function(vm,node,scope){return node.id||(vm[core_vm.aprand].seed_of_el_aid++,node.id="vm_elid_"+vm.sid+"_"+vm[core_vm.aprand].seed_of_el_aid),node.id},forece_calnodeid:function(vm,node,scope,head){return vm[core_vm.aprand].seed_of_el_aid++,head+"_elid_"+vm.sid+"_"+vm[core_vm.aprand].seed_of_el_aid},now_path:function(pscope,str,vm,where){var abpath="",t_scope=pscope;if(str==t_scope.alias)abpath=t_scope.path,void 0!=t_scope.listdata&&void 0!==t_scope.$index&&(abpath+="."+t_scope.$index);else for(;;){if(0==str.indexOf(t_scope.alias+".")){abpath=t_scope.path,void 0!==t_scope.listdata&&void 0!==t_scope.$index&&(abpath+="."+t_scope.$index),abpath+="."+str.replace(t_scope.alias+".","");break}if(null==(t_scope=t_scope.pscope))break}return abpath||(abpath=str),"."==abpath[0]&&(abpath=abpath.substr(1)),abpath},merge_json_str:function(vm,where,str,skipmerge){var obj,fn=new Function("e","return   [ "+str+" ] ");try{obj=fn.call({},null)}catch(e){}if(Array.isArray(obj)&&obj[0]){if(skipmerge)return obj[0];vm[where]=vm[where]||{},"object"==typeof obj[0]&&core_vm.tool.deepmerge(vm[where],obj[0])}}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),pscope_attr=function(scope,str){for(var res,tmps=str.split("."),t_scope=scope,i=0,len=tmps.length;i<len;i++)if("pscope"==tmps[i]){if(!(t_scope=t_scope.pscope))break}else{if("$index"==tmps[i]&&i==len-1){res=t_scope.$index;break}"$value"==tmps[i]&&(res=t_scope.listdata[t_scope.$index])}return res},trim=function(str){return str.replace(/^\s*|\s*$/g,"")},val=function(str,vm,scope,where){if(void 0===str||""===str)return str;var res="",quotastr=(str=core_vm.tool.trim(str)).replace(/^[\'\"]*|[\'\"]*$/g,"");if(quotastr.length+2==str.length)return quotastr;"!"==str[0]&&(str=str.substr(1));var tmp=core_vm.tool.parse_func_para(str);if(void 0==tmp[1])if("this."==str.substr(0,5))void 0==(res=core_vm.tool.objGetDeep(vm,str.substr(5)))&&(core_vm.onerror(vm.getapp(),"data_path_error1",vm.absrc,{path:str}),res="");else if("$index"==str)res=scope.$index;else if("$value"==str)res=scope.listdata[scope.$index];else if(str.indexOf("pscope.")>-1)res=pscope_attr(scope,str);else{var abpath=core_vm.cal.now_path(scope,str,vm,"calval");if(void 0===(res=0===abpath.indexOf("this.")?core_vm.tool.objGetDeep(vm,abpath.substr(5)):core_vm.tool.objGetDeep(vm.data,abpath))){if("!"==str[str.length-1])return val(str.substr(0,str.length-1),vm,scope,where);core_vm.onerror(vm.getapp(),"data_path_error2",vm.absrc,{path:str}),res=""}}else res=core_vm.calexp.method(tmp[0],tmp[1],vm,scope);return res},exp_one=function(vm,attrexp,scope,k){var ops=vm.getcache().use.operator;return attrexp.replace(/{(.*?)}/g,function(item,str){var result="";"_exptext_"==k&&("!"==str[0]&&(str=str.substr(1)),"!"==str[str.length-1]&&(str=str.substr(0,str.length-1)));var find=0;for(var k in ops)if(str.indexOf(k)>-1){result=ops[k](str),find=1;break}return 1==find&&void 0!==result&&""!==result?result:(str.indexOf(" | ")>-1?result=function(exp,vm,scope){var array=exp.split("|"),res=array[0];if(array.length>1&&res)for(var i=1;i<array.length;i++){array[i]=core_vm.tool.trim(array[i]);var func=core_vm.getprefn(vm,"filter",array[i]);if(core_vm.isfn(func)||(func=vm.getcache().use.filter[array[i]]||core_vm.getprefn(vm,"method",array[i])),core_vm.isfn(func))try{res=func.call(vm,res)}catch(e){res="",core_vm.devalert(vm,"filter :"+array[i],e)}}return res}(str,vm):(str=trim(str),result=core_vm.calexp.val(str,vm,scope,"exp6")+""),result+"")})};module.exports={nodeattrexp:function(vm,node,scope){if(node.attrexp)for(var k in node.attrexp){var res=core_vm.calexp.exp(vm,node.attrexp[k],scope);node.attr[k]=res}},val,exp:function(vm,str,scope,k){if(-1===str.indexOf("{"))return str;if("string"!=typeof str)return"";if((str=(str=trim(str)).replace("{%","{").replace("%}","}")).split("{").length!==str.split("}").length)return str;if(str.indexOf("{")==str.lastIndexOf("{")&&str.indexOf("}")==str.lastIndexOf("}"))return exp_one(vm,str,scope);for(;str.indexOf("{")>-1;){var pos=str.lastIndexOf("{");if(-1==(pos2=str.indexOf("}",pos)))break;var nstr=str.substring(pos,pos2+1);str=str.substr(0,pos)+exp_one(vm,nstr,scope)+str.substr(pos2+1)}if(str.indexOf("{")>-1)for(;str.indexOf("{")>-1&&str.indexOf("}");){var pos2;if(pos=str.indexOf("{"),-1==(pos2=str.indexOf("}",pos)))break;nstr=str.substring(pos,pos2+1),str=str.substr(0,pos)+exp_one(vm,nstr,scope)+str.substr(pos2+1)}return str},method:function(funcname,para,vm,scope){para=para||"","!"==funcname[0]&&(funcname=funcname.substr(1));var func=core_vm.getprefn(vm,"method",funcname),paras=para.split(",");if(core_vm.isfn(func)||(func=vm.getcache().use.method[funcname]),core_vm.isfn(func)){if(void 0!=scope.$index)for(var i=0,len=paras.length;i<len;i++)paras[i]=core_vm.tool.trim(paras[i]),"$index"==paras[i]?paras[i]=scope.$index:"$value"==paras[i]?paras[i]=scope.listdata[scope.$index]:paras[i].indexOf("pscope.")>-1&&(paras[i]=pscope_attr(scope,paras[i]));var res;try{res=func.apply(vm,paras)}catch(e){core_vm.devalert(vm,"method."+funcname,e)}return void 0===res?"":res}if(funcname.indexOf(".")>-1){var str=funcname.substr(0,funcname.lastIndexOf(".")),funcname2=funcname.substr(funcname.lastIndexOf(".")+1),v=val(str,vm,scope);return void 0!==v&&core_vm.isfn(v[funcname2])?v[funcname2].apply(vm,paras)+"":(core_vm.onerror(vm.getapp(),"no_method_when_cal",vm.absrc,{funcname,para}),"")}return""}}},function(module,exports,__webpack_require__){var tapp,core_vm=__webpack_require__(0),trim=function(str){return str.replace(/^\s*|\s*$/g,"")},all_isnot_seen=function(str){for(var i=0,len=str.length;i<len;i++)if(str.charCodeAt(i)>32)return!1;return!0};var reg_close=/^<\s*\/\s*([\w-_]+)\s*>/,reg_start=/^<\s*([\w]{1,})\s*/,reg_self_close=/^\s*\/\s*>/;function add_watch(node,name,method){node.watchs=node.watchs||[];for(var i=0,len=(name=name.split("-watch-")).length;i<len;i++)node.watchs.push([name[i].replace(/\-/g,"."),method])}var DATA=0,OPTIONS=1,STATE=2,gsn=0,parse=function(xml,html_gsn,psn){xml="<_root_>"+(xml=(xml=trim(xml)).replace(/\<\!--[\s\S]*?--\>/g,""))+"</_root_>",gsn=html_gsn||0;var nodescache=[];return{_root_:gentag(null,psn=psn||0),nodescache};function gentag(parentNode,psn){var m=nodematch(reg_start,"start");if(m){var node={sn:gsn++,psn:void 0!=psn?psn:parentNode?parentNode.sn:0,id:"",tag:m[1],utag:m[1].toLowerCase(),attr:{},dir:{},childNodes:[],parentNode};if(nodescache[node.sn]=node,function(node){var find_attr1=0,find_attr2=0;for(;!(0==xml.length||is(">")||is("?>")||is("/>"));){find_attr1=1,find_attr2=1;var attr=attribute();if(attr)if("data"==node.tag||"option"==node.tag&&"select"!==node.parentNode.tag)node.attr[attr.name]=attr.value;else if("id"==attr.name)node.id=attr.value;else if("el-filter"==attr.name||"el-hook"==attr.name||"el-list"==attr.name)node.dir[attr.name.substr(3)]=attr.value;else if("watch-"==attr.name.substr(0,6))attr.name=attr.name.substr(6),"["==attr.name[0]&&"]"==attr.name[attr.name.length-1]&&(attr.name=attr.name.substr(1,attr.name.length-2)),add_watch(node,attr.name,attr.value);else if("on-"==attr.name.substr(0,3))node.event=node.event||{},node.event[attr.name.substr(3)]=attr.value;else if("event-"==attr.name.substr(0,6))node.vmevent=node.vmevent||{},node.vmevent[attr.name.substr(6)]=attr.value;else{var tmp=attr.value.match(/{([\S\s]*?)}/);if(null==tmp)node.attr[attr.name]=attr.value,"true"===attr.value.toLowerCase()?node.attr[attr.name]=!0:"false"===attr.value.toLowerCase()&&(node.attr[attr.name]=!1);else{node.attrexp=node.attrexp||{};var last_indexOf_kuohao=attr.value.lastIndexOf("{");if(0!=last_indexOf_kuohao||0!=tmp.index||tmp[0]!=attr.value||((str=tmp[1]).indexOf(":")>-1||str.indexOf("|")>-1||str.indexOf("?")>-1||str.indexOf("(")>-1||str.indexOf(")")>-1))node.attrexp[attr.name]=attr.value,add_multi_watch(node,attr.value,"toel-"+attr.name);else{var path=trim(tmp[1]),if_data_to_el=0,if_el_to_data=0;"!"==path[0]&&(if_data_to_el=1,path=path.substr(1)),"!"==path[path.length-1]&&(if_el_to_data=1,path=path.substr(0,path.length-1));var datatype=DATA;0==path.indexOf("this.option.")?(datatype=OPTIONS,if_data_to_el=1,if_el_to_data=0):0==path.indexOf("this.state.")&&(datatype=STATE),node.attrexp[attr.name]="{"+path+"}",if_data_to_el&&add_watch(node,path,"toel-"+attr.name),if_el_to_data&&(node.event=node.event||{},datatype==STATE?node.event.change="tostate-"+path.replace("this.state.",""):datatype==DATA&&(node.event.change="todata-"+path))}}}else find_attr1=0,(attr=attribute2())?all_isnot_seen(attr.name)||(attr.name=attr.name.replace(/\W/g,""),attr.name&&(node.attr[attr.name]=!0)):find_attr2=0;find_attr1+find_attr2==0&&(xml=xml.slice(xml.indexOf(">")))}var str}(node),node.attr&&node.attr.class?(node.classList=node.attr.class.split(" "),delete node.attr.class):node.attrexp&&node.attrexp.class?(node.classList=node.attrexp.class.split(" "),delete node.attrexp.class):node.classList=[],nodematch(reg_self_close,"selfclose"))return node;var index=xml.indexOf(">");xml=xml.slice(index+1);var nowtagLower=node.tag.toLowerCase();if("br"==nowtagLower||"hr"==nowtagLower)return node;for(child_or_content(node);!nodematch(reg_close,"close",node.tag,node)&&xml;)child_or_content(node);return node}}function child_or_content(node){for(var child,tcontent,m,find_child=0,find_content=0;find_child=1,find_content=1,(child=gentag(node))?node.childNodes.push(child):find_child=0,void 0,(tcontent=(m=nodematch(/^([^<]*)/,"content"))?m[1]:"")?add_content_node(node,tcontent):find_content=0,find_child+find_content!=0;);}function new_node(type,pnode){var node={tag:type,utag:type,childNodes:[],dir:{},attr:{},psn:pnode.sn,sn:gsn++,parentNode:pnode};return nodescache[node.sn]=node,pnode.childNodes.push(node),node}function ifhave_operator(str){if(str.indexOf("|")>-1||str.indexOf("?")>-1&&str.indexOf(":")>-1||str.indexOf("(")>-1&&str.indexOf(")")>-1||str.indexOf("&&")>-1)return!0}function add_multi_watch(node,str,where){if("toel-text"==where||!ifhave_operator(str)){var needwatch=[];str.replace(/([\S\s]*?)\{([\S\s]*?)\}/g,function(a,b,c,d,e,f,g){(c=trim(c))&&(0==c.indexOf("this.option.")&&"!"!=c[0]&&(c="!"+c),"!"==c[c.length-1]&&(c=c.substr(0,c.length-1)),"!"===c[0]&&-1===needwatch.indexOf(c)&&needwatch.push(c.substr(1)))});for(var i=0,len=needwatch.length;i<len;i++)add_watch(node,needwatch[i],where)}}function add_content_node(node,tcontent){if(!all_isnot_seen(tcontent)){tcontent.indexOf("\\u")>-1&&(tcontent=tcontent.replace(/\\u[a-fA-F0-9]{4}/g,function(a,b,c){return unescape(a.replace(/\\u/,"%u"))})),tcontent.indexOf("\\U")>-1&&(tcontent=tcontent.replace(/\\U[a-fA-F0-9]{4}/g,function(a,b,c){return unescape(a.replace(/\\U/,"%u"))}));var tag=node.tag.toLowerCase();if(tapp.config.precode.indexOf(tag)>-1)return node.attr=node.attr||{},void(node.attr.text=core_vm.tool.htmlunescape(tcontent));if(null!=tcontent.match(/{([\S\s]*?)}/g)){if(ifhave_operator(tcontent))return(textnode=new_node("_exptext_",node)).text="",textnode.exp_text=tcontent,void add_multi_watch(textnode,tcontent,"toel-text");tcontent.replace(/([\S\s]*?)\{([\S\s]*?)\}/g,function(a,b,c,d,e,f,g){var textnode;trim(b)&&((textnode=new_node("_text_",node)).text=trim(b));(c=trim(c))&&("!"==c[c.length-1]&&(c=c.substr(0,c.length-1)),(textnode=new_node("_exptext_",node)).text="",textnode.exp_text="{"+c+"}",0==c.indexOf("this.option.")&&"!"!=c[0]&&(c="!"+c),"!"===c[0]&&add_watch(textnode,c.substr(1),"toel-text"))});var index=tcontent.lastIndexOf("}");if(index!=tcontent.length-2){var shengyu=tcontent.substr(index+2);if(trim(shengyu))(textnode=new_node("_text_",node)).text=trim(shengyu)}}else{var textnode;"text"==tag?node.text=tcontent:(textnode=new_node("_text_",node)).text=tcontent}}}function attribute2(){var m=nodematch(/^\s*([_-\w]+)\s*/,"attrstate");if(m)return{name:m[1],value:m[1]}}function attribute(){var val,m=nodematch(/([_-\w]+)\s*=\s*(\`[^`]*\`|"[^"]*"|'[^']*'|[ ]|[^<>\/\s]*)\s*/,"attr");if(m)return{name:trim(m[1]),value:trim((val=m[2],val.replace(/^['"`]|['"`]$/g,"")))}}function nodematch(re,where,tag,node){var m=xml.match(re);if("attr"==where){if(m&&m.index>0&&!all_isnot_seen(m.input.substr(0,m.index)))return}else if("close"==where)return m?(xml=xml.substr(m.index+m[0].length),m[1]==tag||m[1].toLowerCase()==tag.toLowerCase()||!!tapp.config.strategy.force_close_not_match_close_tag):(xml=xml.slice(xml.indexOf(">")+1),!!tapp.config.strategy.force_close_error_close_tag);if(m)return xml=xml.slice(m.index+m[0].length),m}function is(prefix){return 0==xml.indexOf(prefix)}};module.exports=function(html,maxsn,psn,app,where){tapp=app,html=html.replace(/<\?xml.*\?>\n/,"").replace(/<!doctype.*\>\n/,"").replace(/<!DOCTYPE.*\>\n/,"").replace(new RegExp("<script[^]*>[\\s\\S]*?<\/script>","gi"),"").replace(new RegExp("<style[^]*>[\\s\\S]*?</style>","gi"),"").replace(/\/\s*>/g,"/>").replace(/\/\>/g," />").replace(/\<\>/g,"");var all=parse(html,maxsn,psn);return[all._root_,all.nodescache]}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),cal_els_filter=function(vm,str,scope){scope=scope||{};var mustv,array,res,method,calstr=str;if(str.indexOf(">=")>-1?(array=str.split(">="),method=">="):str.indexOf("<=")>-1?(array=str.split("<="),method="<="):str.indexOf("!==")>-1?(array=str.split("!=="),method="!=="):str.indexOf("===")>-1?(array=str.split("==="),method="=="):str.indexOf("==")>-1?(array=str.split("=="),method="=="):str.indexOf(">")>-1?(array=str.split(">"),method=">"):str.indexOf("<")>-1&&(array=str.split("<"),method="<"),array&&method){calstr=core_vm.tool.trim(array[0]),mustv=core_vm.calexp.exp(vm,core_vm.tool.trimquota(core_vm.tool.trim(array[1])),scope,"cal_els_filter"),res=core_vm.calexp.exp(vm,calstr,scope,"cal_els_filter");var result=!1;return">="==method?1+Number(res)>=1+Number(mustv)&&(result=!0):">"==method?1+Number(res)>1+Number(mustv)&&(result=!0):"<="==method?1+Number(res)<=1+Number(mustv)&&(result=!0):"<"==method?1+Number(res)<1+Number(mustv)&&(result=!0):"=="==method?res+""==mustv+""&&(result=!0):"!=="==method&&res+""!=mustv+""&&(result=!0),result}return!(!(res=core_vm.calexp.exp(vm,str,scope,"cal_els_filter"))||"null"===res||"false"===res||"undefined"===res)},parse_if=function(name,vm,scope){return cal_els_filter(vm,name,scope)};module.exports={single:function(vm,if_result,filter,sn,scope,start_index){if(filter)if("else"==filter){for(var find_true=0,j=sn-1;j>start_index;j--)if(1==if_result[j]){find_true=1;break}if_result[sn]=0==find_true}else if("elseif:"==filter.substr(0,7)){for(find_true=0,j=sn-1;j>start_index;j--)if(1==if_result[j]){find_true=1;break}1==find_true?if_result[sn]=!1:!1===if_result[sn-1]&&(if_result[sn]=parse_if(filter.substr(7),vm,scope))}else"if:"==filter.substr(0,3)?if_result[sn]=parse_if(filter.substr(3),vm,scope):if_result[sn]=parse_if(filter,vm,scope);else if_result[sn]=!0},multi:function(vm,html){return html.replace(/{%[ ]{0,}if([\s\S]*?){%[ ]{0,}endif[ ]{0,}%}/g,function(item,qparam,param){var ifs=[],strs=[],starts=[],lens=[];item.replace(/{%([\s\S]*?)%}([\s\S]*?)/gm,function(a,b,c,d){ifs.push(b),starts.push(d),lens.push(a.length)});for(var k=0,len=starts.length-1;k<len;k++)strs.push(item.substr(starts[k]+lens[k],starts[k+1]-starts[k]-lens[k]));var return_sn=-1,i=0;for(len=ifs.length;i<len;i++){ifs[i]=core_vm.tool.trim(ifs[i]);var this_result=!1;if(0==ifs[i].indexOf("elseif ")||0==ifs[i].indexOf("else if ")?this_result=cal_els_filter(vm,core_vm.tool.trim(ifs[i].substr(7))):0==ifs[i].indexOf("if ")?this_result=cal_els_filter(vm,core_vm.tool.trim(ifs[i].substr(3))):"else"==ifs[i]&&(this_result=!0),1==this_result){return_sn=i;break}}return return_sn>-1?strs[return_sn]:""})}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.create=function(vm,node,scope,pel,insert_pos){if("_root_"!=node.tag){if(vm){"slot"==node.utag&&(node=core_vm.inject.use_inject_nodes_when_create(vm,node,scope)||node);var thisel,newvmopt=core_vm.createvm(vm,node,scope);if(node.dir.hook&&0==node.dir.hook.indexOf("node:")&&core_vm.elhook(vm,null,node.dir.hook.substr(5),"beforeCreated",node),"_text_"==node.tag||"_exptext_"==node.tag&&!node.watchs)return"#document-fragment"==pel.nodeName||pel.id==vm.id+"__tmp"?(thisel=document.createTextNode(node.text),void pel.appendChild(thisel)):void(pel.innerHTML=pel.innerHTML+node.text);if(core_vm.createcommon.idclass(vm,node,scope),!(thisel="_exptext_"==node.tag?document.createElement("span"):document.createElement(node.tag)))return null;for(var k in node.listid&&(thisel.listid=node.listid),node.id&&(thisel.id=node.id),node.attr)"text"!=k&&"html"!=k&&thisel.setAttribute(k,node.attr[k]);return node.classList.length>0&&(core_vm.web_private_style.check(vm,node),thisel.className=node.classList.join(" ")),newvmopt?(pel.appendChild(thisel),newvmopt.el=thisel,vm.appendChild(newvmopt,node,1)):thisel&&(core_vm.createcommon.event(vm,node,scope,thisel),"text"==node.tag?(thisel.textContent=node.text,node.childNodes=[]):node.attr.text?(thisel.textContent=node.attr.text,node.childNodes=[]):node.attr.html?(thisel.innerHTML=node.attr.html,node.childNodes=[]):node.text&&(thisel.textContent=node.text,node.childNodes=[]),void 0==insert_pos||insert_pos==pel.childNodes.length?pel.appendChild(thisel):pel.insertBefore(thisel,pel.childNodes[insert_pos]),node.dir.hook&&core_vm.elhook(vm,thisel,node.dir.hook,"selfCreated"),node.childNodes&&node.childNodes.length>0&&!node.childskip_inject&&core_vm.create.nodes(vm,node,scope,thisel),node.dir.hook&&core_vm.elhook(vm,thisel,node.dir.hook,"childrenCreated")),thisel}core_vm.delalert.error("create miss vm")}else core_vm.create.nodes(vm,node,scope,pel)},module.exports.nodes=function(vm,node,scope,pel,insert_pos,iflist){var nodes=iflist?[node]:node.childNodes||[];Array.isArray(nodes)||(nodes=[nodes]),0==nodes.length&&(nodes=[]);var needif=0,if_result=[],start_index=-1;core_vm.createblock.find_block(nodes,vm,scope,pel);for(var sn=0,len=nodes.length;sn<len;sn++)if(nodes[sn].dir&&nodes[sn].dir.filter){needif=1;break}for(sn=0,len=nodes.length;sn<len;sn++){node=nodes[sn];if("if_result"!=sn&&node.tag){if(node.$injectscope){if(node.$injectfromvm_sid){var inject_vm=vm.getcache().vmsbysid[node.$injectfromvm_sid];if(!inject_vm){core_vm.devalert(vm,"no inject_vm");continue}vm=inject_vm}scope=node.$injectscope}needif&&(node.dir&&node.dir.filter?(core_vm.calif.single(vm,if_result,node.dir.filter,sn,scope,start_index),"else"==node.dir.filter&&(start_index=sn+1)):(if_result[sn]=!0,start_index=sn)),0!==needif&&!0!==if_result[sn]||(node.dir.list?core_vm.list.gen(vm,node,scope,pel):module.exports.create(vm,node,scope,pel,insert_pos))}}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.find_block=function(nodes,vm,scope,pel){nodes.forEach(function(node,sn){var utag=node.utag;if(vm.getcache().use.block[utag]||vm.getcache().check_if_import("block",vm[core_vm.aprand].absrcid,utag)){var oldparent=node.parentNode,oldid=node.id;if(blocktext=vm.getcache().get_block_text(vm,utag),!blocktext)return;var s=[];for(var k in node.attr)-1==s.indexOf(k)&&s.push(k);for(var k in node.attrexp)-1==s.indexOf(k)&&s.push(k);s.forEach(function(name,i){var text=node.attr[name];!text&&node.attrexp&&(text=node.attrexp[name]),0==i&&-1==utag.indexOf("-")&&!text&&node.childNodes.length>0&&(text=node.childNodes[0].text),text&&(text=core_vm.calexp.exp(vm,text,scope),blocktext=blocktext.replace(new RegExp("\\$"+name,"g"),text))}),nodes[sn]=core_vm.calhtmltojson(blocktext,0,0,vm.getapp(),5)[0].childNodes[0],nodes[sn].parentNode=oldparent,oldid&&(nodes[sn].id=oldid),node.attr.style&&(nodes[sn].attr.style=node.attr.style)}})}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.idclass=function(vm,node,scope){if(node.id){if(node.id.indexOf("{")>-1&&(node.id=core_vm.calexp.exp(vm,node.id,scope)),vm.getapp().config.strategy.not_document_getelbyid&&-1==node.id.indexOf("_elid_"+vm.sid)){var newid=core_vm.cal.forece_calnodeid(vm,node,scope,"doc");node.oriid=node.id,node.id&&(vm[core_vm.aprand].newid_2_oldid[newid]=node.id),node.id=newid}vm.__regel("id",node.oriid||node.id,node.id)}node.attr.role&&(node.id=node.id||core_vm.cal.forece_calnodeid(vm,node,scope,"role"),vm.__regel("role",node.attr.role,node.id,scope.$index)),node.classList=node.classList||[];var str=node.classList.join(" ").replace(/  /g," ").replace(/^\s*|\s*$/g,"");if(node.classList=str?str.split(" "):[],node.classList.length>0)for(var i=node.classList.length-1;i>-1;i--)""===node.classList[i]&&node.classList.splice(i,1);node.classList.length>0&&(node.id=node.id||core_vm.cal.forece_calnodeid(vm,node,scope,"class"),vm.__regel("classList",node.classList,node.id,scope.$index)),node.listid&&(node.id=node.id||core_vm.cal.forece_calnodeid(vm,node,scope,"list"),vm.__regel("listel",node.listid,node.id,scope.$index))},module.exports.event=function(vm,node,scope,thisel){node.event&&core_vm.tool.each(node.event,function(funcname,event){var str,event_name=(str=""+(str=event)).charAt(0).toLowerCase()+str.slice(1);vm[core_vm.aprand].domeventnames[event_name]=1,0==funcname.indexOf("js:")?(vm[core_vm.aprand].inline_onjs.push(funcname.substr(3)),funcname="inlinejs_on__"+(vm[core_vm.aprand].inline_onjs.length-1)):funcname=core_vm.calexp.exp(vm,funcname,scope),core_vm.elset(thisel,"on-"+event_name,funcname,scope)})}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports=function(vm,node,scope){var config=vm.getapp().config;if(!(config.precode.indexOf(node.utag)>-1)){var newvm;core_vm.calexp.nodeattrexp(vm,node,scope),node.id&&"{"==node.id[0]&&(node.id=core_vm.calexp.exp(vm,node.id,scope)),node.classList&&node.classList.length>0&&(node.classList.forEach(function(str,i){"{"==node.classList[i][0]&&(node.classList[i]=core_vm.calexp.exp(vm,str,scope))}),node.classList=node.classList.join(" ").replace(/  /g," ").split(" ")),"_exptext_"==node.tag&&(node.text=core_vm.calexp.exp(vm,node.exp_text,scope,"_exptext_")),node.watchs&&(node.id?node.id=core_vm.calexp.exp(vm,node.id,scope):node.id=core_vm.cal.forece_calnodeid(vm,node,scope,"watch"),core_vm.watchcal.cal(vm,node,scope,"common"));var utag=node.utag;return(utag===config.vmtag||node.attr[config.vmtag+"-src"]||vm.getcache().vmlib[utag]||config.path.vm[utag]||vm.getcache().check_if_import("vm",vm[core_vm.aprand].absrcid,utag))&&("parent"!=node.id&&"child"!=node.id||(node.id=""),node.id||(node.id=core_vm.define.newvmid()),node.childNodes=node.childNodes||[],node.attr=node.attr||{},node.childNodes.length>0&&core_vm.inject.biaojiinject_in_calcommon(vm,scope,node.childNodes),newvm={src:vm.getcache().check_if_import("vm",vm[core_vm.aprand].absrcid,utag)||config.path.vm[utag]||node.attr[config.vmtag+"-src"]||node.attr.src||utag,id:node.attr.id||node.id||core_vm.define.newvmid()},vm.getcache().vmlib[utag]&&(newvm.src=utag,newvm.absrc=utag),node.childskip_inject=1),newvm}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),global_vmid_seed=10,global_nodeid_seed=0,vmclass=function(id){this.id=id,this.__init()},vmproto=vmclass.prototype,need_keep=["appsid","id","sid","src","absrc","pel","pvm"],need_keep_rand=["absrcid","pvmevent","pvmelevent","pvmnode"];vmproto.__init=function(ifclose){if(ifclose||(this.sid=this.sid||++global_vmid_seed,this.id=this.id||"id_auto_"+String(this.sid)),ifclose){for(var k in this.__auto_unsub_app(),this)this.hasOwnProperty(k)&&(need_keep.indexOf(k)>-1||k!==core_vm.aprand&&(this[k]=null));for(var k in this[core_vm.aprand])-1==need_keep_rand.indexOf(k)&&delete this[core_vm.aprand][k]}ifclose||(this[core_vm.aprand]={},Object.defineProperty(this,core_vm.aprand,{configurable:!1,enumerable:!1,writable:!1}));let obj=this[core_vm.aprand];ifclose||(obj.pvmevent={},obj.pvmelevent={},obj.pvmnode=null),obj.pvmslot={},obj.has_started=0,obj.has_defined=0,obj.append_data={},obj.append_option={},obj.datafrom_store=[],obj.datafrom_parent=[],obj.cbs_on_define=[],obj.cbs_onstart=[],obj.cbs_onclose=[],obj.cbs_onshow=[]},vmproto.__clean_tmp_after_start=function(){delete this[core_vm.aprand].pvmslot,delete this[core_vm.aprand].append_data,delete this[core_vm.aprand].append_option,delete this[core_vm.aprand].has_started_self,delete this[core_vm.aprand].has_defined,delete this[core_vm.aprand].cbs_onstart,delete this[core_vm.aprand].cbs_onshow,delete this[core_vm.aprand].loadingsub_count,delete this[core_vm.aprand].startcb_of_vmstart},vmproto.__define=function(vmobj){var tvm=this;for(var k in"object"==typeof vmobj&&null!==vmobj||(vmobj={}),vmobj.sid&&delete vmobj.sid,vmobj.id&&delete vmobj.id,vmobj.src&&delete vmobj.src,vmobj.pel&&delete vmobj.pel,vmobj.ppel&&delete vmobj.ppel,vmobj)void 0===vmproto[k]&&(tvm[k]=vmobj[k]);tvm.data=tvm.data||{},tvm.state=tvm.state||{},tvm.option=tvm.option||{},tvm.event=tvm.event||{},tvm.config=tvm.config||{},Array.isArray(tvm.config.cacheClasses)||(tvm.config.cacheClasses=[]),tvm.config.appendto="ppel"===tvm.config.appendto?"ppel":"pel",tvm.__auto_sub_app();var obj=this[core_vm.aprand];return obj.newid_2_oldid={},obj.vmchildren={},obj.rootscope={},obj.nodejson=[],obj.seed_of_el_aid=0,obj.els_binded=[],obj.els=[],obj.elsdom={id:{},class:{},role:{},listel:{}},obj.private_style={},obj.domeventnames={},obj.domeventnames_binded=[],obj.cbs_onstart=[],obj.cbs_onclose=[],obj.cbs_onshow=[],obj.loadingsub_count=0,obj.has_defined=1,obj.has_started=0,obj.inline_onjs=[""],obj.inline_watchjs=[""],obj.watching_data={},obj.watching_state={},obj.watching_option={},obj.watching_list={},this.__ensure_fn(),this},__webpack_require__(38).setproto(vmproto),__webpack_require__(37).setproto(vmproto),__webpack_require__(50).setproto(vmproto),__webpack_require__(41).setproto(vmproto),__webpack_require__(42).setproto(vmproto),__webpack_require__(43).setproto(vmproto),__webpack_require__(40).setproto(vmproto),__webpack_require__(44).setproto(vmproto),__webpack_require__(47).setproto(vmproto),__webpack_require__(45).setproto(vmproto),__webpack_require__(46).setproto(vmproto),__webpack_require__(49).setproto(vmproto),__webpack_require__(39).setproto(vmproto),__webpack_require__(48).setproto(vmproto),vmproto.__setsrc=function(src){"string"!=typeof src&&(src=""),this.src=src||"",this.src&&(this.absrc=_reqlib.gen_path(this.getapp(),this.src,this.pvm?this.pvm.absrc:"",!0,5),this[core_vm.aprand].absrcid=this.getcache().geturlsid(this.absrc))};var libbatchdom=__webpack_require__(36);for(var k in vmproto.batchdom=function(fn,ctx){libbatchdom.set(fn,ctx)},vmproto.getapp=function(){return core_vm.wap},vmproto.getcache=function(){return core_vm.wap.__cache},vmproto)"_"==k[0]&&Object.defineProperty(vmproto,k,{configurable:!1,enumerable:!1,writable:!1});var _reqlib=__webpack_require__(1);module.exports={vmclass,define:function(opt,uap){var tvm=new vmclass(opt.id);return opt.el&&(tvm.pel=opt.el),tvm.getcache().vmsbysid[tvm.sid]=tvm,opt.pvm&&(tvm.getcache().vmparent[tvm.sid]=opt.pvm.sid,tvm.pvm=opt.pvm,tvm.pvm[core_vm.aprand].vmchildren=tvm.pvm[core_vm.aprand].vmchildren||{},tvm.pvm[core_vm.aprand].vmchildren[tvm.id]=tvm.sid),tvm.__setsrc(opt.src||opt.url),tvm},newvmid:function(){return"id_auto_"+ ++global_nodeid_seed},protect:function(){}},module.exports.extend=function(name,fn){core_vm.isfn(fn)&&(vmproto[name]=fn)}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),hook=function(name,vm,el,when,node,libid){var fn=vm.getcache().use.elhook[name]||(vm.getcache().jslib[libid]?vm.getcache().jslib[libid].exports:null);if(core_vm.isfn(fn))try{fn.call({},vm,el,when,node)}catch(e){core_vm.devalert(vm,"el-hook."+name+":"+when,e)}};module.exports=function(vm,el,src,when,node){var name=src;if(0!=name.indexOf("this.")){if(vm.getcache().use.elhook[name])return hook(name,vm,el,when,node),void("childrenCreated"==when&&vm.__addto_onshow(function(){hook(name,vm,el,"attached",node)}));var opt={app:vm.getapp(),loadvm:vm,pvmpath:vm.absrc,url:vm.getapp().config.path.elhook[name]||name,type:"lib",fresh:!1,from:"loadelhook",elhook_second_times:"childrenCreated"==when,refsid:vm[core_vm.aprand].absrcid},fresh=vm._is_fresh_ing;opt.fresh=fresh,core_vm.require.load(opt,function(err,mod,spec){err?core_vm.onerror(vm.getapp(),"load_elhook_fail",spec.id,vm.absrc,err):core_vm.isfn(mod)&&(vm.getapp().config.path.elhook[name]?(vm.getcache().use.elhook[name]=mod,delete vm.getcache().jslib[spec.id],hook(name,vm,el,when,node)):hook(name,vm,el,when,node,spec.id),"childrenCreated"==when&&vm.__addto_onshow(function(){hook(name,vm,el,"attached",node,spec.id)}))})}else{var fn=core_vm.tool.objGetDeep(vm,name.substr(5));if(core_vm.isfn(fn))try{fn.call({},vm,el,when,node)}catch(e){core_vm.devalert(vm,"el-hook."+name+":"+when,e)}"childrenCreated"==when&&vm.__addto_onshow(function(){fn.call({},vm,el,"attached",node)})}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.get_owner=function(e){for(var owner,el=e.target;;){if(el.hasAttribute("owner")){owner=el.getAttribute("owner");break}if(el.hasAttribute("bindsidofvm"))break;if(!(el=el.parentNode)||!el.hasAttribute)break}return owner},module.exports.stopEvent=function(e){e.stopPropagation()},module.exports.get_funcname=function(e,vm){var funcname="",str="on-"+e.type,el=e.target;if(el.attributes[str+"-self"])funcname=el.attributes[str+"-self"].value;else if(el.attributes[str])funcname=el.attributes[str].value;else for(;!el.attributes.isvmpel;){if(el.attributes[str]){funcname=el.attributes[str].value;break}if(el.attributes.href){funcname="href:"+el.attributes.href.value;break}if(el.hasAttribute("bindsidofvm"))break;if(!(el=el.parentNode)||el==document||el==document.body)break}return funcname+""};module.exports.all=function(e,thisvm){var funcname=core_vm.eventdom.get_funcname(e,thisvm);if("auto"==funcname){funcname=(thisvm[core_vm.aprand].newid_2_oldid[e.target.id]||e.target.id)+"."+e.type}else{if(!funcname||"parent"==funcname)return module.exports.stopEvent(e),void function(e,vm){var funcname,pel=vm.pel,pvm=vm.pvm;if(funcname=core_vm.elget(pel,"on-"+e.type),module.exports.stopEvent(e),funcname&&"parent"!=funcname||!vm[core_vm.aprand].pvmelevent[e.type]||(funcname=vm[core_vm.aprand].pvmelevent[e.type]),funcname){var fn=core_vm.getprefn(pvm,"domevent",funcname);fn&&core_vm.tryfn(pvm,fn,[e],"vm.domevent.pelevent")}}(e,thisvm);if(0===funcname.indexOf("href:"))return void module.exports.stopEvent(e)}var funcpara,tvm=thisvm;if("js:"!=funcname.substr(0,3)&&"to:"!=funcname.substr(0,3)){var tmp=core_vm.tool.parse_func_para(funcname);funcname=tmp[0],funcpara=tmp[1]}var owner=module.exports.get_owner(e);if(owner&&"self"!=owner&&(tvm="parent"==owner?thisvm.pvm:thisvm.getcache().vmsbysid[owner]),tvm){funcpara=funcpara||"";var fn=core_vm.getprefn(tvm,"domevent",funcname);if(core_vm.isfn(fn)||(fn=tvm.getcache().use.domevent[funcname]),core_vm.isfn(fn)){var array=[e].concat(funcpara.split(","));"app."==funcname.substr(0,4)?core_vm.tryfn(thisvm.getapp(),fn,array,"vm.domevent.app"):(0==funcname.indexOf("inlinejs_on__")&&(array=[e,thisvm.getapp()]),core_vm.tryfn(tvm,fn,array,"vm.domevent.inline"))}else if(0==funcname.indexOf("inlinejs_on__")){var jsid=parseInt(funcname.replace("inlinejs_on__",""));if(jsid>0){var str=tvm[core_vm.aprand].inline_onjs[jsid];tvm[core_vm.aprand].inline_onjs[jsid]="";try{(fn=new Function("e,app",str)).call(tvm,e,thisvm.getapp())}catch(error){error.funcname=str,core_vm.onerror(tvm.getapp(),"inlinejs_fn_error",tvm.absrc,error),!1}core_vm.isfn(fn)?tvm[funcname]=fn:tvm[funcname]=function(){}}}else if("todata-"==funcname.substr(0,7)||"tostate-"==funcname.substr(0,8)){var el=e.target,newvalue="check"==e.type?el.checked:"change"==e.type&&"on"!=el.value?el.value:void 0!=el.checked?el.checked:el.value;if("todata-"==funcname.substr(0,7))funcname=funcname.substr(7).replace("this.data.",""),(oldv=core_vm.tool.objGetDeep(tvm.data,funcname))!==newvalue&&tvm.__autobind_setData(funcname,newvalue,oldv);else if("tostate-"==funcname.substr(0,8)){var oldv;funcname=funcname.substr(8).replace("this.state.",""),(oldv=core_vm.tool.objGetDeep(tvm.state,funcname))!==newvalue&&tvm.__autobind_setstate(funcname,newvalue,oldv)}!1}else core_vm.tryfn(tvm,tvm.onerror,[e,"domevent"],"onerror.no.fn"),core_vm.devalert(tvm,"no function,tvm.id=",tvm.id,"funcname="+funcname);module.exports.stopEvent(e)}else module.exports.stopEvent(e)}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.biaojiinject_in_calcommon=function(vm,scope,nodes){nodes.forEach(function(node,sn){core_vm.inject.biaojiinject_level_1(vm,scope,node.childNodes)})},module.exports.biaojiinject_level_1=function(vm,scope,nodes){nodes.forEach(function(node,sn){node.$injectscope=scope,node.$injectfromvm_sid=vm.sid,node.attr=node.attr||{},node.attr.owner="parent"})},module.exports.inject_one_string=function(pvm,vm,utag,text,where){var type=typeof vm[where][utag],caninject=!0;if("undefined"==type)vm[where][utag]=text;else if("boolean"==type)vm[where][utag]=Boolean(text);else if("number"==type)vm[where][utag]=Number(text);else if("float"==type)vm[where][utag]=parseFloat(text);else if("string"==type)vm[where][utag]=String(text);else if("object"==type){if("string"==typeof text){var obj,fn=new Function("e","return   [ "+text+" ] ");try{obj=fn.call({},null)}catch(e){}obj&&(text=obj[0])}"object"==typeof text?Array.isArray(vm[where][utag])&&Array.isArray(text)?vm[where][utag]=text:Array.isArray(vm[where][utag])||Array.isArray(text)?caninject=!1:vm[where][utag]=text:caninject=!1}else vm[where][utag]=text;caninject&&-1===vm[core_vm.aprand].datafrom_parent.indexOf(utag)&&vm[core_vm.aprand].datafrom_parent.push(utag)},module.exports.cal_inject_node=function(vm,innode){var new_data_node={tag:"data",utag:"data",attr:{},attrexp:{},childNodes:[]},new_attr_node={tag:"option",utag:"option",attr:{},attrexp:{},childNodes:[]},finddata=0,findattr=0;if(innode.dataset)for(let k in innode.dataset)innode.attr["data-"+k]=innode.dataset[k];core_vm.tool.each(innode.attr,function(v,k){"id"!=k&&"style"!=k&&"role"!=k&&"event"!=k&&k!=vm.getapp().config.vmtag+"-src"&&(0===k.indexOf("data-")?(k=k.substr(5),finddata=1,0==v.indexOf("{")?new_data_node.attrexp[k]=v:new_data_node.attr[k]=v):0===k.indexOf("option-")&&(k=k.substr(7),findattr=1,"string"==typeof v&&0==v.indexOf("{")?new_attr_node.attrexp[k]=v:new_attr_node.attr[k]=v))}),1==finddata&&innode.childNodes.push(new_data_node),1==findattr&&innode.childNodes.push(new_attr_node)},module.exports.inject_from_pvm_before_start=function(vm){if(vm[core_vm.aprand].pvmnode){var pvm=vm.pvm;core_vm.tool.objClone(vm[core_vm.aprand].pvmnode).childNodes.forEach(function(node,sn){if(core_vm.isobj(node))if(node.attr=node.attr||{},"option"==node.utag||"data"==node.utag){if(vm[node.utag]=vm[node.utag]||{},node.attrexp)for(var k in node.attrexp)node.attr[k]=node.attrexp[k];for(var k in node.attr){var text=node.attr[k];if("string"==typeof node.attr[k]&&-1!=text.indexOf("this.")){var watch_path=text.replace(/^\{*|\}*$/g,"").replace("this.",""),in_data=core_vm.tool.objGetDeep(pvm,watch_path);void 0==in_data&&(in_data=core_vm.calexp.exp(pvm,text,pvm[core_vm.aprand].rootscope,"_exptext_")),"object"==typeof in_data&&(in_data=core_vm.tool.objClone(in_data)),module.exports.inject_one_string(pvm,vm,k,in_data,node.utag)}else module.exports.inject_one_string(pvm,vm,k,text,node.utag)}}else node.attr.slot?vm[core_vm.aprand].pvmslot[node.attr.slot]=node:(vm[core_vm.aprand].pvmslot[core_vm.aprand]=vm[core_vm.aprand].pvmslot[core_vm.aprand]||[],vm[core_vm.aprand].pvmslot[core_vm.aprand].push(node))})}},module.exports.use_inject_nodes_when_create=function(tvm,node,scope){node.attrexp=node.attrexp||{},scope&&node.attrexp&&node.attrexp.name&&(node.attrexp.name=core_vm.calexp.exp(tvm,node.attrexp.name,scope));var pnode=node.parentNode,pc=node.parentNode.childNodes,index=pc.indexOf(node),name=scope?node.attr.name||node.attrexp.name:"";if(scope&&name){var res=tvm[core_vm.aprand].pvmslot[name];if(res){if(-1!==index)return pc.splice(index,1,res),pc[index].parentNode=pnode,pc[index];for(var k in node.tag=res.tag,node.utag=res.utag,node.attr={},res.attr)node.attr[k]=res.attr[k];node.childNodes=res.childNodes,module.exports.bind_vm_pvm_when_inject_node(tvm,res)}}else if(!scope&&tvm[core_vm.aprand].pvmslot[core_vm.aprand]){-1==(index=pc.indexOf(node))&&(index=0),pc.splice(index,1);var mainslots=tvm[core_vm.aprand].pvmslot[core_vm.aprand];for(k=0;k<mainslots.length;k++)mainslots[k].attr.owner="parent",module.exports.bind_vm_pvm_when_inject_node(tvm,mainslots[k]),pc.splice(index+k,0,mainslots[k]),mainslots[k].parentNode=pnode}},module.exports.bind_vm_pvm_when_inject_node=function(tvm,node){if(node){if(node.event)for(var k in node.event)tvm[core_vm.aprand].domeventnames[k]=1;if(node.childNodes&&node.childNodes.length>0)for(var i=0,len=node.childNodes.length;i<len;i++)module.exports.bind_vm_pvm_when_inject_node(tvm,node.childNodes[i])}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.gendata=function(vm,node,scope,pel){var array=node.dir.list.split(" in ");array[1]=core_vm.calexp.exp(vm,array[1],scope);var abpath=core_vm.cal.now_path(scope,array[1],vm,"listgen");return[array,abpath=abpath.replace(/^\s*|\s*$/g,"").replace(/\[([\s\S]*?)\]/g,function(a,b){return"."+b+"."}).replace(/^\.*|\.*$/g,"").replace(/\'|\"/g,""),0===abpath.indexOf("this.")?core_vm.tool.objGetDeep(vm,abpath.substr(5)):core_vm.tool.objGetDeep(vm.data,abpath)]};var g_classid=0,gen_watch_listclass=function(node){node.watchs&&(node.listid=++g_classid),node.childNodes&&node.childNodes.forEach(function(cnode){gen_watch_listclass(cnode)})};module.exports.gen=function(vm,node,scope,pel){node.id="";var tmp=module.exports.gendata(vm,node,scope,pel),array=tmp[0],abpath=tmp[1],listdata=tmp[2];if(Array.isArray(listdata)){gen_watch_listclass(node);var new_scope={alias:array[0],palias:array[1],path:abpath,pscope:scope};new_scope.listdata=listdata,new_scope.$index=0;var listing,lopt={vm,node,scope:new_scope};(listing=vm[core_vm.aprand].watching_list)[abpath]=listing[abpath]||[],listing[abpath].push(lopt),lopt.pel=pel,vm.__addto_onstart(function(){"#document-fragment"==pel.nodeName&&pel.id==vm.id+"__tmp"&&(lopt.pel=vm.pel)}),lopt.sn_in_parent=pel.childNodes.length;for(var k=0,len=listdata.length;k<len;k++)core_vm.list.new_node(k,listdata[k],lopt,lopt.sn_in_parent+k,"init")}else core_vm.onerror(vm.getapp(),"list_data_not_array",vm.absrc,{path:abpath},listdata)},module.exports.$add=function(lopt,k,v){var insert_pos=core_vm.list.get_fel_sn_in_parent(lopt,"add")+k;core_vm.list.new_node(k,v,lopt,insert_pos,"add")},module.exports.$delat=function(lopt,index,oldv){var sn_in_parent=core_vm.list.get_fel_sn_in_parent(lopt,"delat"),childs=lopt.pel.childNodes;lopt.vm.delel(childs[sn_in_parent+index])},module.exports.$clean=function(lopt){for(var sn_in_parent=core_vm.list.get_fel_sn_in_parent(lopt,"clean"),i=this.length-1;i>-1;i--)lopt.vm.delel(lopt.pel.childNodes[sn_in_parent+i])},module.exports.$rebuild=function(lopt){for(var sn_in_parent=core_vm.list.get_fel_sn_in_parent(lopt,"rebuild"),k=0,len=this.length;k<len;k++)core_vm.list.new_node(k,this[k],lopt,sn_in_parent+k,"rebuild")},module.exports.new_node=function(k,v,lopt,insert_pos,where){var scope_node=core_vm.tool.objClone(lopt.node);delete scope_node.dir.list,delete scope_node.id,lopt.scope.$index=k,core_vm.cal.nodeid(lopt.vm,scope_node,lopt.scope),core_vm.create.nodes(lopt.vm,scope_node,lopt.scope,lopt.pel,insert_pos,!0)},module.exports.get_fel_sn_in_parent=function(lopt){return lopt.sn_in_parent}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),_reqlib=__webpack_require__(1);module.exports=function(vm,cb){if(!vm[core_vm.aprand].has_defined&&!vm[core_vm.aprand].has_started&&vm.src){if(core_vm.isfn(cb)||(cb=function(){}),vm.getcache().vmlib[vm.src])return vm.getcache().add_ref("vm",vm.src,vm[core_vm.aprand].absrcid,"loadsub"),vm.__define(core_vm.tool.objClone(vm.getcache().vmlib[vm.src].exports)),vm.absrc=vm.src,void vm.__initdata_then_start(cb);var pvm=vm.pvm;pvm&&pvm[core_vm.aprand].loadingsub_count++;var fresh=vm._is_fresh_ing,opt={app:vm.getapp(),loadvm:pvm,pvmpath:pvm.absrc,url:vm.absrc||vm.src,type:"vm",from:"loadvm",fresh,urlsid:vm[core_vm.aprand].absrcid,refsid:pvm[core_vm.aprand].absrcid,vm};_reqlib.cal_spec_path(opt),core_vm.require.load(opt,function(err,mod,spec){if(err)core_vm.onerror(vm.getapp(),"load_vm_fail",spec.id||vm.src,err),pvm&&(pvm[core_vm.aprand].loadingsub_count--,0==pvm[core_vm.aprand].loadingsub_count&&pvm.__onstart_a_zero_sub()),cb.call(vm,err);else{if(vm.__define(mod),vm.absrc=spec.id,vm[core_vm.aprand].cbs_on_define){for(var k in vm[core_vm.aprand].cbs_on_define)vm[core_vm.aprand].cbs_on_define[k]();vm[core_vm.aprand].cbs_on_define=[]}vm.__initdata_then_start(cb)}})}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),_reqlib=__webpack_require__(1),_libcal=__webpack_require__(51),_requirecache=__webpack_require__(2),load_pending={};void 0!==XMLHttpRequest&&"undefined"!=typeof XMLHttpRequest||(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw new Error("This browser does not support XMLHttpRequest.")});function load(spec,callback){if("function"!=typeof callback&&(callback=function(){}),"string"==typeof spec&&(spec={url:spec}),spec.url){if(!spec.refsid)return console.log("refsid",spec.url),void callback({type:"missing spec.refsid"},null,spec);if(spec.urlsid||(spec.urlsid=spec.app.__cache.geturlsid(spec.url)),_reqlib.cal_spec_path(spec),spec&&spec.text)return spec.callback=callback,void download_act(xhr,"onload",spec,"",null,!0);if(!(spec.url==spec.pvmpath||spec.pvm&&spec.url==spec.pvm.absrc||spec.id==spec.pvmpath||spec.pvm&&spec.id==spec.pvm.absrc)||spec.istop)if(0!=spec.url.indexOf("http://www.localhost.com/"))if(load_pending[spec.url])load_pending[spec.url].push([spec,callback]);else{if(spec.elhook_second_times||!spec.fresh){var module=_requirecache.get(spec.app,spec.vm,spec.id,"",spec.type,"check",spec.urlsid);if(module)return void function(mod,spec,loadcb){console.log("find_cachevm_inrequie",spec.type,mod.__extend_from),loadcb(null,clone_mod(mod,spec),spec)}(module,spec,callback)}var xhr;cache_text="";(xhr=new XMLHttpRequest).hascallbacked=0,load_pending[spec.url]=[[spec,callback]],xhr.onreadystatechange=function(e){4==xhr.readyState&&(0==xhr.status?download_act(xhr,"download_timeout",spec,cache_text):download_act(xhr,"readystatechange",spec,cache_text))},xhr.onload=function(){download_act(xhr,"onload",spec,cache_text)},xhr.onerror=function(error){core_vm.devalert(spec.app,"onerror.xhr",xhr.location,error),download_act(xhr,"download_error",spec,cache_text,error)};try{xhr.open("GET",spec.url,!0),spec.fresh,xhr.send(null)}catch(e){xhr.onerror.call(xhr,"error-catched")}}else{spec.fresh=!0;var cache_text=gcache.fileroot.get_text("mydevapps/"+spec.url.replace("http://www.localhost.com/",""));!function(spec,cache_text,loadcb){_libcal.evalResponse(4,spec,cache_text,function(err,mod){loadcb(err,clone_mod(mod,spec),spec)},loads)}(spec,cache_text,callback)}else callback(new Error("url duplicate"),null,spec)}else callback({type:"missing both url and id"},null,spec)}function download_act(xhr,type,spec,cache_text,error,withtext){if(withtext)_libcal.evalResponse(0,spec,spec.text,function(err,mod){download_ok_pendingcb(spec,err,mod)},loads);else if(1!=xhr.hascallbacked&&(xhr.hascallbacked=1,load_pending[spec.url])){spec.url_goto=xhr.location;var sucess=0;"onload"==type?sucess=1:"readystatechange"==type&&(xhr.status<300&&xhr.status>=200||0===xhr.status&&!spec.url.match(/^(?:https?|ftp):\/\//i)?sucess=1:(sucess=0,type="download_error"));var xhr_responseText=sucess>0?xhr.responseText:"",result=core_vm.onload(spec.app,spec.url,xhr,spec);result&&(xhr_responseText=result),0==sucess?download_ok_pendingcb(spec,{type,url:spec.url,status:xhr.status,xhr}):1==sucess&&_libcal.evalResponse(3,spec,xhr_responseText,function(err,mod){download_ok_pendingcb(spec,err,mod)},loads)}}function download_ok_pendingcb(spec,error,mod){var cbs=[],specs=[],first_type="";if(load_pending[spec.url]){for(var len=load_pending[spec.url].length,k=0;k<len;k++)cbs.push(load_pending[spec.url][k][1]),specs.push(load_pending[spec.url][k][0]);first_type=load_pending[spec.url][0][0].type,delete load_pending[spec.url]}else cbs[0]=spec.callback,specs[0]=spec,first_type=spec.type;error?cbs.forEach(function(cb,i){cb(error,null,specs[i])}):cbs.forEach(function(cb,i){let spec=specs[i];"css"==spec.type?(spec.app.__cache.loadok_style(spec,mod),cb(null,mod,spec)):"text"==spec.type?cb(null,mod,spec):"block"==spec.type?(spec.app.__cache.loadok_block(spec,mod),cb(null,mod,spec)):(spec.urlsid&&("vm"==spec.type&&spec.app.__cache.add_ref("vm",spec.id,spec.refsid,"loadok"),"lib"!=spec.type&&"json"!=spec.type||spec.app.__cache.add_ref("lib",spec.id,spec.refsid,"loadok")),"text"==first_type&&"lib"==spec.type?(spec.text=mod,core_vm.require.load(spec,cb)):(spec.type,cb(null,clone_mod(mod,spec),spec)))})}function clone_mod(mod,spec){return"css"==spec.type?null:"lib"==spec.type?mod:"vm"==spec.type?core_vm.tool.objClone(mod):"text"==spec.type?mod:null}function loads(urls,callback){Array.isArray(urls)||(urls=[urls]);var len=urls.length,errs=[],mods=[],specs=[],errcount=0;urls.forEach(function(url,i){url?load(url,function(err,mod,spec){err&&errcount++,errs[urls.indexOf(url)]=err,specs[urls.indexOf(url)]=spec,mods[urls.indexOf(url)]=mod||{},0==--len&&callback(errcount,errs,mods,specs)}):len--})}module.exports={},module.exports.load=load,module.exports.loads=loads,module.exports.normalizeUrl=_reqlib.normalizeUrl},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setstore=function(app){(!app.store||"object"!=typeof app.store&&"function"!=typeof app.store)&&(app.store={}),core_vm.isfn(app.store.init)||(app.store.init=function(cb){cb()}),core_vm.isfn(app.store.vminit)||(app.store.vminit=function(cvm,cb){cb()}),core_vm.isfn(app.store.get)||(app.store.get=function(cvm,path,cb){cb()}),core_vm.isfn(app.store.set)||(app.store.set=function(cvm,path,value,cb){cb()}),core_vm.isfn(app.store.add)||(app.store.add=function(cvm,path,index,value,cb){cb()}),core_vm.isfn(app.store.del)||(app.store.del=function(cvm,path,index,cb){cb()})};var defconf={isdev:!1,precode:["pre","code"],vmtag:"vm",strategy:{not_document_getelbyid:!1,auto_deepclone_store_data:!0,force_close_error_close_tag:!0,force_close_not_match_close_tag:!0,append_to_pel_wait_loading_child_vm:!0,setChildState:!0,cacheClassesAll:!0},path:{lib:{},vm:{},block:{},elhook:{}}};module.exports.checkappconfig=function(app,obj){app.config=app.config||app.pageconfig||{};var apconf=app.config;if(0==obj){for(var k in defconf)if(Array.isArray(defconf[k]))for(var m in apconf[k]=[],defconf[k])apconf[k].push(defconf[k][m]);else if("object"==typeof defconf[k])for(var m in apconf[k]={},defconf[k])apconf[k][m]=defconf[k][m];else apconf[k]=defconf[k];for(var k in apconf.precode_regexp={},apconf.precode)apconf.precode_regexp[apconf.precode[k]]=new RegExp("<"+apconf.precode[k]+"([\\s\\S]*?)>([\\s\\S]*?)</"+apconf.precode[k]+">","gi")}else if(1==obj){for(var k in apconf)void 0!==defconf[k]&&typeof defconf[k]!=typeof apconf[k]&&delete apconf[k];for(var k in defconf)void 0==apconf[k]&&(apconf[k]=core_vm.tool.objClone(defconf[k]));for(var k in apconf.strategy)typeof defconf.strategy[k]!=typeof apconf.strategy[k]&&delete apconf.strategy[k];for(var k in defconf.strategy)void 0==apconf.strategy[k]&&(apconf.strategy[k]=defconf.strategy[k]);for(var k in apconf.precode_regexp={},apconf.precode)"string"!=typeof apconf.precode[k]&&delete apconf.precode[k];for(var k in apconf.precode)apconf.precode_regexp[apconf.precode[k]]=new RegExp("<"+apconf.precode[k]+"([\\s\\S]*?)>([\\s\\S]*?)</"+apconf.precode[k]+">","gi");for(var k in apconf.blockpath_regexp={},apconf.path)"object"!=typeof apconf.path[k]&&delete apconf.path[k];for(var k in apconf.path.block)apconf.blockpath_regexp[k]=new RegExp("<"+k+" ","gi");var _reqlib=__webpack_require__(1);for(var k in defconf.path)for(var m in void 0==apconf.path[k]&&(apconf.path[k]={}),apconf.path[k])"string"!=typeof apconf.path[k][m]&&delete apconf.path[k][m],apconf.path[k][m]=_reqlib.gen_path(app,apconf.path[k][m],"",!0,4)}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),app_loaded=!1;module.exports.init=function(){app_loaded=!1,!1};var start_index_vm=function(app,index_vm,mycb){"function"!=typeof app.hookStart&&(app.hookStart=function(cb){cb()}),app.hookStart(function(){index_vm.__initdata_then_start(mycb)})},start_parse_index=function(app,file_indexvm,index_vm,cb,where){""!==app.indexvm_text&&app_loaded&&(!0!==app.indexvm_text?(index_vm[core_vm.aprand].absrcid=1,core_vm.require.load({app,loadvm:null,pvmpath:"",url:file_indexvm,type:"vm",from:"file_indexvm",text:app.indexvm_text,urlsid:1,refsid:1,vm:index_vm},function(err,mod,spec){if(delete app.indexvm_text,err)core_vm.devalert(index_vm,"load file_indexvm fail"),"function"==typeof cb&&cb("error");else for(var k in mod)index_vm[k]=mod[k];index_vm.absrc=spec.id,!0,function(app,index_vm,cb){start_index_vm(app,index_vm,cb)}(app,index_vm,cb)})):cb())};module.exports.start_system=function(app,file_app,file_indexvm,index_vm,cb){app.indexvm_text="",file_indexvm?app.loadfile("text",file_indexvm,function(err,text){app.indexvm_text=text,start_parse_index(app,file_indexvm,index_vm,cb)}):(app.indexvm_text=!0,start_parse_index(app,file_indexvm,index_vm,cb)),file_app?core_vm.require.load({app,loadvm:null,pvmpath:"",url:file_app,type:"lib",from:"file_app",urlsid:2,refsid:2,vm:null},function(err,mod,spec){err&&core_vm.devalert(index_vm,"load app fail "),core_vm.rootvmset.checkappconfig(app,1),core_vm.rootvmset.setstore(app),app_loaded=!0,start_parse_index(app,file_indexvm,index_vm,cb)}):(core_vm.rootvmset.checkappconfig(app,{}),core_vm.rootvmset.setstore(app),app_loaded=!0,start_parse_index(app,file_indexvm,index_vm,cb))},module.exports.start_index_vm=start_index_vm},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),global_rootvm={},index_vm={};module.exports.start_system=function(){for(var file_app,file_indexvm,scripts=document.getElementsByTagName("script"),i=scripts.length-1;i>-1;i-=1)if("vmix"===scripts[i].dataset.role&&(scripts[i].hasAttribute("app-file")||scripts[i].hasAttribute("index-file"))){file_indexvm=scripts[i].getAttribute("index-file"),file_app=scripts[i].getAttribute("app-file");break}module.exports.root=global_rootvm,(index_vm=core_vm.define.define({id:"__index__",pvm:null})).__define({}),index_vm[core_vm.aprand].pvmevent={},index_vm.pel=document.body,module.exports.index=index_vm,core_vm.wap.indexvm=index_vm,index_vm.absrc=window.location.pathname;var dirpath=window.location.pathname;dirpath=dirpath.substr(0,dirpath.lastIndexOf("/")),window.location.dirpath=dirpath;var u=window.location.protocol+"//"+window.location.hostname;window.location.port&&80!==window.location.port&&(u+=":"+window.location.port),window.location.fullhost=u,core_vm.rootvmstart.init(),core_vm.rootvmstart.start_system(core_vm.wap,file_app,file_indexvm,index_vm,function(){file_indexvm||function(){core_vm.wap.indexvm[core_vm.aprand].has_started=1;var s=Object.keys(core_vm.wap.config.path.vm);s.push(core_vm.wap.config.vmtag);var el_src=document.body.querySelectorAll(s.join(",")),elsall=[];[].forEach.call(el_src,function(el){elsall.push(el)}),[].forEach.call(elsall,function(el){if(!el.hasAttribute("autostart")||0!=el.getAttribute("autostart")){var json={};json.src=core_vm.wap.config.path.vm[el.localName]||el.getAttribute("src")||"",json.id=el.getAttribute("id")||"",el.childNodes.forEach(function(node){el.removeChild(node)});var vm=core_vm.define.define({pvm:core_vm.wap.indexvm,el,id:json.id,src:json.src});core_vm.load(vm,function(vm){})}})}()})}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.web=function(vm){!vm.pel.style.display&&vm.config.pelDisplayType&&(vm.pel.style.display=vm.config.pelDisplayType);var fragment=document.createDocumentFragment();fragment.id=vm.id+"__tmp",vm.__top_fragment=fragment,core_vm.create.nodes(vm,vm[core_vm.aprand].nodejson[0],vm[core_vm.aprand].rootscope,fragment)}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),vm_tool={objGetDeep:function(obj,name){if(void 0==obj)return obj;if("object"==typeof obj&&"string"==typeof name){for(var r_obj=obj,parts=~(name=name.replace(/^\s*|\s*$/g,"").replace(/\[([\s\S]*?)\]/g,function(a,b){return"."+b+"."}).replace(/^\.*|\.*$/g,"").replace(/\'|\"/g,"")).indexOf(".")?name.split("."):[name],i=0;i<parts.length&&void 0!==(r_obj=r_obj[parts[i]]);i++);return r_obj}},objSetDeep:function(obj,name,value,ifnew){if(!obj||"object"!=typeof obj||"string"!=typeof name)return!1;if(-1==name.indexOf("."))(ifnew||void 0!=obj[name])&&(obj[name]=value);else{var p=name.split("."),len=p.length,err=0,n=[];n[0]=obj;for(var i=1;i<len;i++)if(Array.isArray(n[i-1])&&(p[i-1]=parseInt(p[i-1])),ifnew&&void 0==n[i-1][p[i-1]]&&(n[i-1][p[i-1]]={}),n[i]=n[i-1][p[i-1]],"object"!=typeof n[i]||null===n[i]){err=1;break}err||(n[len-1][p[len-1]]=value)}},deepmerge:function(target,src){if("object"==typeof target&&"object"==typeof src&&(Array.isArray(src)||!Array.isArray(target))&&(!Array.isArray(src)||Array.isArray(target)))for(var k in src)void 0===target[k]?core_vm.isobj(src[k])?target[k]=vm_tool.objClone(src[k]):target[k]=src[k]:core_vm.isobj(src[k])?Array.isArray(src[k])?(target[k]=[],src[k].forEach(function(e,i){"object"==typeof e?(target[k][i]={},vm_tool.deepmerge(target[k][i],e)):target[k][i]=e})):vm_tool.deepmerge(target[k],src[k]):target[k]=src[k]},deepmerge_notreplace:function(target,src){if("object"==typeof target&&"object"==typeof src)for(var k in src)void 0==target[k]?core_vm.isobj(src[k])?target[k]=vm_tool.objClone(src[k]):target[k]=src[k]:core_vm.isobj(target[k])&&core_vm.isobj(src[k])&&vm_tool.deepmerge_notreplace(target[k],src[k])},trim:function(str){return str.replace(/^\s*|\s*$/g,"")},trimquota:function(str){return str.replace(/^[\'\"]*|[\'\"]*$/g,"")},parse_func_para:function(str){var res=[str,void 0];return str.replace(/(.*?)\((.*?)\)(.*?)/g,function(all,a,b){res[0]=vm_tool.trim(a),res[1]=vm_tool.trim(b)}),res},parse_kv_para:function(str){var parames={},array=str.split(";");1==array.length&&(array=str.split(","));for(var i=0,len=array.length;i<len;i++)array[i].replace(/(.+)=(.+)/g,function(a,b,c){parames[b]=c});return parames},objClone:function(obj,ifproto){if(!obj)return obj;if(obj instanceof core_vm.define.vmclass)return obj;var newobj;if("object"!=typeof obj)return obj;if(void 0!==obj.nodeType||void 0!==obj.nodeName)return obj;if(Array.isArray(obj)){newobj=new Array(obj.length);for(var i=0,len=obj.length;i<len;i++)"object"==typeof obj[i]?newobj[i]=vm_tool.objClone(obj[i],ifproto):newobj[i]=obj[i]}else for(var k in newobj=obj.constructor==Object?new obj.constructor:new obj.constructor(obj.valueOf()),obj)obj.hasOwnProperty(k)&&newobj[k]!==obj[k]&&(obj[k]?"parentNode"==k&&obj[k].tag?newobj[k]=obj[k]:"object"==typeof obj[k]?void 0!==obj[k].nodeType||void 0!==obj[k].nodeName?newobj[k]=obj[k]:newobj[k]=vm_tool.objClone(obj[k]):newobj[k]=obj[k]:newobj[k]=obj[k]);return ifproto&&(newobj.toString=obj.toString,newobj.valueOf=obj.valueOf),newobj},multiline:function(fn){if("function"!=typeof fn)throw new TypeError("Expected a function.");var match=/\/\*!?(?:\@preserve)?[ \t]*(?:\r\n|\n)([\s\S]*?)(?:\r\n|\n)\s*\*\//.exec(fn.toString());if(!match)throw new TypeError("Multiline comment missing.");return match[1]=match[1].replace(/\/\/.*?[\r\n]/g,""),match[1].replace(/\/\/.*?[\r\n]/g,"").replace(/\/\/.*?$/g,"")},each:function(obj,fn,context){if(null!=obj&&obj.length===+obj.length)for(var i=0;i<obj.length;i++)fn.call(context,obj[i],i,obj);else for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&fn.call(context,obj[key],key,obj)}},_htmlescapehash={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},_htmlunescapehash={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&#x27;":"'","&#x2f;":"/"},_htmlescapereplace=function(k){return _htmlescapehash[k]},_htmlunescapereplace=function(k){return _htmlunescapehash[k]};vm_tool.htmlescape=function(str){return"string"!=typeof str?str:str.replace(/[&<>"]/gim,_htmlescapereplace)},vm_tool.htmlunescape=function(str){return"string"!=typeof str?str:str.replace(/(&lt;|&gt;|&amp;|&quot;|&#x27;|&#x2f;)/gim,_htmlunescapereplace)},module.exports=vm_tool},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),check_array_repeat=function(s,listid,index){for(var i=s.length-1;i>-1;i--)s[i].listid&&s[i].listid==listid&&s[i].$index==index&&s.splice(i,1)};module.exports={cal:function(vm,node,scope,where){if(node.watchs)for(var watchs=node.watchs,j=0,len=watchs.length;j<len;j++){var dataname=watchs[j][0],elattr=watchs[j][1];0!==elattr.indexOf("js:")&&"{"==elattr[0]&&(elattr=core_vm.calexp.exp(vm,elattr,scope)),node.id=node.id||core_vm.cal.forece_calnodeid(vm,node,scope,"watch");var wopt={vm,node,elid:node.id,scope,action:"prop",$index:scope.$index};if(node.listid&&(wopt.listid=node.listid),0==elattr.indexOf("js:"))vm[core_vm.aprand].inline_watchjs.push(elattr.substr(3)),wopt.watchfunc="inlinejs_watch__"+(vm[core_vm.aprand].inline_watchjs.length-1),wopt.watchpara=null;else if(elattr.indexOf("-toel-")>0){var array=elattr.split("-toel-");wopt.toelattr=array[1];var tmp=core_vm.tool.parse_func_para(array[0]);wopt.watchfunc=tmp[0],wopt.watchpara=tmp[1]}else"toel-"==elattr.substr(0,5)?wopt.toelattr=elattr.substr(5):(tmp=core_vm.tool.parse_func_para(elattr),wopt.watchfunc=tmp[0],wopt.watchpara=tmp[1]);var watch_path=core_vm.cal.now_path(scope,dataname,vm,"watch_path");if(watch_path.substr(watch_path.lastIndexOf(".")+1),"["==watch_path[0]&&"]"==watch_path[watch_path.length-1]&&(watch_path=watch_path.substr(1,watch_path.length-2)),"."==(watch_path=watch_path.replace(/\[/g,".").replace(/\]/g,""))[0]&&(watch_path=watch_path.substr(1)),"noel"==where&&(wopt.elid=-2),watch_path.indexOf(".-1")>-1)alert("watch_path.indexOf('.-1')>-1");else{var watch_obj=vm.data,if_is_state="data";0==watch_path.indexOf("this.data.")?(watch_path=watch_path.substr(10),watch_obj=vm.data||{},if_is_state="data"):0==watch_path.indexOf("this.state.")?(watch_path=watch_path.substr(11),watch_obj=vm.state||{},if_is_state="state"):0==watch_path.indexOf("this.option.")&&(watch_path=watch_path.substr(12),watch_obj=vm.option||{},if_is_state="option");var value=core_vm.tool.objGetDeep(watch_obj,watch_path);wopt.watchfunc&&wopt.watchfunc&&"_exptext_"!==wopt.node.tag&&vm.__addto_onshow(function(){core_vm.watchcb.watch(wopt,watch_path,"",value)});var watching=vm[core_vm.aprand]["watching_"+if_is_state];watching&&(watching[watch_path]=watching[watch_path]||[],void 0!==scope.$index&&check_array_repeat(watching[watch_path],wopt.listid,wopt.$index),watching[watch_path].push(wopt))}}}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.watch=function(wopt,path,oldv,newv){if("object"==typeof wopt){var el,vm=wopt.vm;if(wopt.el?el=wopt.el:!(el=document.getElementById(wopt.elid))&&vm.getapp().config.strategy.not_document_getelbyid&&-1==wopt.elid.indexOf("_elid_")&&(el=vm.getel("#"+wopt.elid)),!el)return core_vm.devalert(vm,"no el",wopt.elid,path),void vm.__delel_watchcb_notfind(wopt.elid);var result=newv,bindtype=wopt.toelattr;if(wopt.watchfunc){var event;event={el,path,oldv,newv};var funcname=wopt.watchfunc,fn=core_vm.getprefn(vm,"dataevent",funcname);if(core_vm.isfn(fn))try{result=0==funcname.indexOf("inlinejs_watch__")?fn.call(vm,event,wopt.watchpara,vm.getapp()):fn.call(vm,event,wopt.watchpara)}catch(e){core_vm.devalert(vm,"dataevent error",e)}else if(0==funcname.indexOf("inlinejs_watch__")){var jsid=parseInt(funcname.replace("inlinejs_watch__",""));if(jsid>0){var str=vm[core_vm.aprand].inline_watchjs[jsid];try{fn=new Function("e,para,app",str);result=fn.call(vm,event,wopt.watchpara,vm.getapp()),vm[funcname]=fn}catch(error){vm[funcname]=function(){},core_vm.devalert(vm,"dataevent error",e)}vm[core_vm.aprand].inline_watchjs[jsid]=""}}}else wopt.vm.__reset_list_index(wopt),result="_exptext_"==wopt.node.tag||"_exptext_"==wopt.node.utag?core_vm.calexp.exp(wopt.vm,wopt.node.exp_text,wopt.scope,"_exptext_"):wopt.node.attrexp&&wopt.node.attrexp[bindtype]?core_vm.calexp.exp(wopt.vm,wopt.node.attrexp[bindtype],wopt.scope,"_exptext_2"):newv;bindtype&&void 0!==result&&vm.batchdom(function(){core_vm.watchcb.setweb(el,bindtype,result,wopt,path)})}},module.exports.setweb=function(el,bindtype,newv,wopt,path){if("html"==bindtype?bindtype="innerHTML":"class"==bindtype&&(bindtype="className"),core_vm.isfn(core_vm.wap.__cache.use.dataevent[bindtype]))core_vm.wap.__cache.use.dataevent[bindtype](el,newv,wopt,path);else if("innerHTML"==bindtype||"html"==bindtype)el.innerHTML=newv;else if("text"==bindtype)void 0!=el.textContent?el.textContent=newv:void 0!=el.text?el.text=newv:void 0!=el.innerText&&(el.innerText=newv);else if("value"==bindtype||"className"==bindtype)el[bindtype]=newv;else if("checked"==bindtype||"disabled"==bindtype)el[bindtype]=newv+""=="true";else{var array=bindtype.split("-");1==array.length&&(array=bindtype.split(".")),1==array.length?el[array[0]]=newv:2==array.length&&("attr"==array[0]?el.setAttribute(array[1],newv):"data"==array[0]?el.dataset[array[1]]=newv:"style"==array[0]?el.style[array[1]]=newv:core_vm.tool.objSetDeep(el,array.join("."),newv,!1))}}},function(module,exports){var readyList=[],readyFired=!1,readyEventHandlersInstalled=!1,ready=function(){if(!readyFired){readyFired=!0;for(var i=0;i<readyList.length;i++)readyList[i].fn.call(window,readyList[i].ctx);readyList=[]}},readyStateChange=function(){"complete"===document.readyState&&ready()};module.exports.docReady=function(callback,context){readyFired?setTimeout(function(){callback(context)},1):(readyList.push({fn:callback,ctx:context}),"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(ready,1):readyEventHandlersInstalled||(document.addEventListener?(document.addEventListener("DOMContentLoaded",ready,!1),window.addEventListener("load",ready,!1)):(document.attachEvent("onreadystatechange",readyStateChange),window.attachEvent("onload",ready)),readyEventHandlersInstalled=!0))}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),g_classid=1;module.exports.add=function(vm,text){var curStyle,id=vm.sid,css=vm[core_vm.aprand].private_style;(text=(text=text.replace(/\.\s{0,}([-\w]+){/g,function(a,b,c){return css[b]=css[b]||"priv_"+g_classid++,"."+css[b]+"{"})).replace(/\.\s{0,}([-\w]+)\s{1,}/g,function(a,b,c){return css[b]=css[b]||"priv_"+g_classid++,"."+css[b]+" "}),curStyle=document.getElementById("_privatestyle_"+id))?curStyle.textContent+="\n"+text:((curStyle=document.createElement("style")).type="text/css",curStyle.id="_privatestyle_"+id,curStyle.appendChild(document.createTextNode(text)),document.getElementsByTagName("head")[0].appendChild(curStyle))},module.exports.get=function(vm,name){var css=vm[core_vm.aprand].private_style;return css&&css[name]||""},module.exports.check=function(vm,node){var css=vm[core_vm.aprand].private_style;css&&node.classList.forEach(function(name,i){css[name]&&(node.classList[i]=css[name])})}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);core_vm.aprand="vm"+(new Date).getTime().toString(),core_vm.rootvmset=__webpack_require__(21),core_vm.rootvmstart=__webpack_require__(22),core_vm.web=__webpack_require__(23),core_vm.webdocready=__webpack_require__(28),core_vm.define=__webpack_require__(14),core_vm.load=__webpack_require__(19),core_vm.start=__webpack_require__(24),core_vm.elhook=__webpack_require__(15),core_vm.inject=__webpack_require__(17),core_vm.cal=__webpack_require__(6),core_vm.calexp=__webpack_require__(7),core_vm.calif=__webpack_require__(9),core_vm.calhtmltojson=__webpack_require__(8),core_vm.watchcal=__webpack_require__(26),core_vm.watchcb=__webpack_require__(27),core_vm.create=__webpack_require__(10),core_vm.createcommon=__webpack_require__(12),core_vm.createvm=__webpack_require__(13),core_vm.createblock=__webpack_require__(11),core_vm.list=__webpack_require__(18),core_vm.eventdom=__webpack_require__(16),core_vm.tool=__webpack_require__(25),core_vm.require=__webpack_require__(20),core_vm.web_private_style=__webpack_require__(29),__webpack_require__(3),core_vm.cacheclass=__webpack_require__(5),core_vm.gcache=new core_vm.cacheclass,core_vm.appclass=__webpack_require__(4),core_vm.wap=new core_vm.appclass,core_vm.wap.id="ly",core_vm.wap.__cache=new core_vm.cacheclass,core_vm.wap.blankvm=core_vm.define.define({id:"_blankforapp_"}),core_vm.wap.blankvm.__define({name:"_blank_"}),Object.defineProperty(core_vm.wap,"blankvm",{enumerable:!1}),Object.defineProperty(core_vm.wap,"blankvm",{enumerable:!1}),module.exports={vmix:{email:"peterli888@gmail.com"}},core_vm.webdocready.docReady(core_vm.web.start_system)},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.loadok_block=function(spec,text){spec.utag?(this.importblock[spec.id]={text:text||""},this.add_ref("block",spec.id,spec.refsid,"loadok_block")):spec.pathtag&&(this.use.block[spec.pathtag]||(this.use.block[spec.pathtag]=text))},proto.get_block_text=function(vm,utag){if(this.use.block[utag])return this.use.block[utag];var src=this.check_if_import("block",vm[core_vm.aprand].absrcid,utag);if(!src)return"";var mod=this.importblock[src];return mod?(-1===mod.refsids.indexOf(vm[core_vm.aprand].absrcid)&&mod.refsids.push(vm[core_vm.aprand].absrcid),mod.text||""):""},proto.loadok_style=function(spec,text){this.importstyle[spec.id]={text:text||""},this.add_ref("style",spec.id,spec.refsid,"loadok_style")},proto.__get_importstyle=function(vm){var text="";for(var k in this.importstyle)this.importstyle[k].refsids.indexOf(vm[core_vm.aprand].absrcid)>-1&&(text+=this.importstyle[k].text);return text}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.loadfilefresh_clear=function(id){this.vmlib[id]&&(delete this.vmlib[id],delete this.vmbody[id],delete this.vmstyle[id]),this.jslib[id]&&delete this.jslib[id]},proto.removesid=function(sid){for(var csid in delete this.vmsbysid[sid],delete this.vmparent[sid],this.vmparent)this.vmparent[csid]==sid&&(delete this.vmparent[csid],this.removesid(csid))},proto.keep=function(type,id){"vm"==type&&this.vmlib[id]&&(this.vmlib[id].inpath=1),"lib"==type&&this.jslib[id]&&(this.jslib[id].inpath=1)},proto.delete=function(mod,id){mod&&mod[id]&&0==mod[id].refsids.length&&!mod[id].inpath&&delete mod[id]},proto.clean_when_vm_clean=function(vm){this.removesid(vm.sid);var absrc=vm.absrc,absrcid=vm[core_vm.aprand].absrcid;if(this.vmlib[absrc]&&1!=this.vmlib[absrc].inpath){var sameurl=0;for(var i in this.vmsbysid)0!=this.vmsbysid[i][core_vm.aprand].has_started&&this.vmsbysid[i][core_vm.aprand].absrcid===vm[core_vm.aprand].absrcid&&sameurl++;if(!(sameurl>0)){for(var k in delete this.vmbody[absrc],delete this.vmstyle[absrc],delete this.vmlib[absrc],this.clean_import(absrcid),this.vmlib){if((mod=this.vmlib[k])&&Array.isArray(mod.refsids))(index=mod.refsids.indexOf(absrcid))>-1&&(mod.refsids.splice(index,1),this.delete(this.vmlib,k))}for(var k in this.jslib){var mod,index;if((mod=this.jslib[k])&&Array.isArray(mod.refsids))(index=mod.refsids.indexOf(absrcid))>-1&&(mod.refsids.splice(index,1),this.delete(this.jslib,k))}}}}}},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports.setproto=function(proto){proto.add_import_src_when_cal=function(type,urlsid,name,src){var a=urlsid+":"+name;"vm"==type&&(this.import_src_vm[a]=src),"block"==type&&(this.import_src_block[a]=src),"lib"!=type&&"json"!=type||(this.import_src_lib[a]=src)},proto.check_if_import=function(type,urlsid,name){var a=urlsid+":"+name;return"vm"==type?this.import_src_vm[a]||"":"block"==type?this.import_src_block[a]||"":"lib"==type||"json"==type?this.import_src_lib[a]||"":void 0},proto.clean_import=function(absrcid){for(var k in this.import_src_block)if(0==k.indexOf(absrcid+":")){var b_absrc=this.import_src_block[k];if((styleobj=this.importblock[b_absrc])&&styleobj.refsids)(index=styleobj.refsids.indexOf(absrcid))>-1&&styleobj.refsids.splice(index,1),this.delete(this.importblock,b_absrc);delete this.import_src_block[k]}for(var k in this.import_src_lib)if(0==k.indexOf(absrcid+":")){var styleobj;b_absrc=this.import_src_lib[k];if((styleobj=this.jslib[b_absrc])&&styleobj.refsids)(index=styleobj.refsids.indexOf(absrcid))>-1&&styleobj.refsids.splice(index,1),this.delete(this.jslib,b_absrc);delete this.import_src_lib[k]}for(var k in this.import_src_vm)if(0==k.indexOf(absrcid+":")){for(var i in this.vmsbysid)if(this.vmsbysid[i].absrc===this.import_src_vm[k]){var vmod=this.vmlib[this.import_src_vm[k]];if(vmod&&vmod.refsids)(index=vmod.refsids.indexOf(absrcid))>-1&&(vmod.refsids.splice(index,1),this.clean_when_vm_clean(this.vmsbysid[i]));break}this.delete(this.import_src_vm,k)}for(var k in this.importstyle){var index;if(this.importstyle[k].refsids)(index=this.importstyle[k].refsids.indexOf(absrcid))>-1&&this.importstyle[k].refsids.splice(index,1),this.delete(this.importstyle,k)}}}},function(module,exports,__webpack_require__){__webpack_require__(0);module.exports.setproto=function(proto){proto.add_jslib=function(id,mod,refsid){this.jslib[id]=mod,refsid&&(mod.refsids=[refsid]);var path=this.getapp().config.path;for(var k in path.lib)path.lib[k]===id&&this.keep("lib",id)},proto.get_jslib=function(id){return this.jslib[id]}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.add_vmlib=function(id,mod,refsid){mod.refsids=[refsid],this.vmlib[id]=mod;var path=this.getapp().config.path;for(var k in path.vm)path.vm[k]===id&&this.keep("vm",id)},proto.add_vmbody=function(id,body,when){this.vmbody[id]=body+""},proto.add_vmstyle_inline=function(id,style_str){this.vmstyle[id]=core_vm.tool.trim(style_str)},proto.get_vmlib=function(id){return this.vmlib[id]},proto.get_body_extend=function(absrc){return this.vmbody[absrc]||""},proto.get_body=function(vm){return this.vmbody[vm.absrc]+""},proto.get_vmstyle_extend=function(absrc){return this.vmstyle[absrc]||""},proto.get_vmstyle=function(vm){var text=this.vmstyle[vm.absrc]||"";return text+=this.__get_importstyle(vm)}}},function(module,exports,__webpack_require__){__webpack_require__(0);var debug=console.log.bind(console,"[fastdom]"),raf=(window,function(cb){return setTimeout(cb,16)}),reads=[],writes=[],scheduled=!1;function runTasks(tasks){for(var task;task=tasks.shift();)task()}function flush(){var error;try{runTasks(reads),runTasks(writes)}catch(e){error=e}scheduled=!1,(reads.length||writes.length)&&scheduleFlush(),error&&debug("task errored",error.message)}function scheduleFlush(){scheduled||(scheduled=!0,raf(flush))}module.exports={get:function(fn,ctx){var task=ctx?fn.bind(ctx):fn;return reads.push(task),scheduleFlush(),task},set:function(fn,ctx){var task=ctx?fn.bind(ctx):fn;return writes.push(task),scheduleFlush(),task}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.cleanList=function(p){if(Array.isArray(this[core_vm.aprand].watching_list[p])){var listdata=this.__getData(p);this[core_vm.aprand].watching_list[p].forEach(function(l_opt){core_vm.list.$clean.call(listdata,l_opt)})}},proto.rebuildList=function(p){if(Array.isArray(this[core_vm.aprand].watching_list[p])){var listdata=this.__getData(p);this[core_vm.aprand].watching_list[p].forEach(function(l_opt){core_vm.list.$rebuild.call(listdata,l_opt)})}},proto.__blankfn=function(){},proto.__getrandobj=function(){return this[core_vm.aprand]},proto.__reset_list_index=function(wopt){void 0!==wopt.$index&&wopt.scope&&void 0!==wopt.scope.$index&&(wopt.scope.$index=wopt.$index)},proto.getClassName=function(name){return core_vm.web_private_style.get(this,name)},proto.hasSlot=function(name){return!!this[core_vm.aprand].pvmslot[name]},proto.__ensure_fn=function(){}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.hasChild=function(id){return!!this[core_vm.aprand].vmchildren[id+""]},proto.getChild=function(id){if(this[core_vm.aprand].vmchildren[id])return this.getcache().vmsbysid[this[core_vm.aprand].vmchildren[id]];if(id.indexOf(".")>-1){for(var tvm=this,parts=~id.indexOf(".")?id.split("."):[id],i=0;i<parts.length&&void 0!==(tvm=tvm.getcache().vmsbysid[tvm[core_vm.aprand].vmchildren[parts[i]]]);i++);return tvm}},proto.getParent=function(){return this.pvm},proto.removeChild=function(id){var cvm;if(id instanceof core_vm.define.vmclass&&this.sid===id.pvm.sid){if(this[core_vm.aprand].vmchildren[id.id]&&this[core_vm.aprand].vmchildren[id.id]==id.sid){cvm=id,id=id.id}}else core_vm.isstr(id)&&(cvm=this.getChild(id));cvm&&(cvm.__vmclose(!0),cvm.getcache().removesid(cvm.sid),delete this[core_vm.aprand].vmchildren[id])},proto.appendChild=function(opt,pnode,ifpnode){if(opt.id&&!this.hasChild(opt.id)){if(opt.el&&core_vm.isfn(opt.el.appendChild)){opt.src||(opt.path?opt.src=this.getapp().config.path.vm[opt.path]:opt.tagname&&(opt.src=opt.tagname)),opt.src;var cvm=core_vm.define.define({pvm:this,el:opt.el,id:opt.id,src:opt.src});if(1==ifpnode)pnode&&pnode.tag&&(core_vm.inject.cal_inject_node(cvm,pnode),cvm[core_vm.aprand].pvmevent=pnode.vmevent||{},cvm[core_vm.aprand].pvmelevent=pnode.event||{},cvm[core_vm.aprand].pvmnode=pnode,0!=pnode.attr.autostart&&(cvm._is_fresh_ing=this._is_fresh_ing,core_vm.load(cvm)));else if(opt){var children=cvm[core_vm.aprand].pvmnode?cvm[core_vm.aprand].pvmnode.childNodes:[];if(core_vm.isobj(opt.event)&&(cvm[core_vm.aprand].pvmevent=opt.event),core_vm.isobj(opt.data)){for(var k in core_vm.tool.deepmerge(cvm[core_vm.aprand].append_data,opt.data),opt.data)-1===cvm[core_vm.aprand].datafrom_parent.indexOf(k)&&cvm[core_vm.aprand].datafrom_parent.push(k);for(var i=children.length-1;i>-1;i--)"data"==children[i].tag&&children.splice(i,1)}if(core_vm.isobj(opt.option)){core_vm.tool.deepmerge(cvm[core_vm.aprand].append_option,opt.option);for(i=children.length-1;i>-1;i--)"option"==children[i].tag&&children.splice(i,1)}return cvm}}}else core_vm.devalert(this,"loadsub id",opt.id)}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.__addto_onclose=function(cb){this[core_vm.aprand].cbs_onclose.push(cb)},proto.__vmclose=function(ifclean,iffresh){if(!this[core_vm.aprand].has_started)return;var vm=this;for(var k in this[core_vm.aprand].has_started=0,this[core_vm.aprand].cbs_onclose)this[core_vm.aprand].cbs_onclose[k].call(this);var vmpel=vm.pel;vmpel.setAttribute("bindsidofvm",0),vmpel.setAttribute("isvmpel",!1);var mypvm=this.pvm;mypvm&&(core_vm.tryvmfn(mypvm,this,"beforechildclose"),ifclean&&delete mypvm[core_vm.aprand].vmchildren[this.id]),core_vm.tryvmfn(vm,null,"beforeclose");let vmchildren=vm[core_vm.aprand].vmchildren;if(vmchildren)for(var k in vmchildren)vm.getcache().vmsbysid[vmchildren[k]].__vmclose(!!iffresh||ifclean,iffresh),delete vmchildren[k];if(this.__unbindall(),"ppel"!==vm.config.appendto)for(var els=vm[core_vm.aprand].els,i=els.length-1;i>-1;i--)els[i].parentNode===vm.pel?vm.pel.removeChild(els[i]):(els[i].replaced_pel&&els[i].replaced_pel.parentNode&&els[i].replaced_pel.parentNode.removeChild(els[i].replaced_pel),els[i].parentNode&&els[i].parentNode.removeChild(els[i]));else{var ppel=vm.ppel,pel=vm.pel;ppel&&pel&&ppel.replaceChild(pel,vm[core_vm.aprand].els[0])}vm.__top_fragment=null,ifclean&&(vm.pel&&(vm.pel=null),vm.pel=null),core_vm.tryvmfn(vm,null,"onclose"),mypvm&&core_vm.tryvmfn(mypvm,this,"onchildclose");var curStyle=document.getElementById("_privatestyle_"+vm.sid);curStyle&&document.getElementsByTagName("head")[0].removeChild(curStyle),vm.__init(!0),ifclean&&vm.clean("vmclose"),this[core_vm.aprand].has_started=0,this[core_vm.aprand].has_defined=0},proto.clean=function(type){0==this[core_vm.aprand].has_started&&0==this[core_vm.aprand].has_defined&&this.getcache().clean_when_vm_clean(this)},proto.close=proto.__vmclose}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.setChildData=function(cvmid,p,v,cb){core_vm.isfn(cb)||(cb=this.__blankfn),"object"==typeof cvmid&&(cvmid=cvmid.id);var cvm=this.getChild(cvmid);if(cvm)if(cvm[core_vm.aprand].has_started){var oldv=cvm.__getData(p);if(oldv!==v){var fp=p.split(".")[0];if(-1!=cvm[core_vm.aprand].datafrom_parent.indexOf(fp)){cvm.__confirm_set_data_to_el(cvm,p,v,oldv),cb(!0,null);var fn=cvm.event["pvm.setdata"];core_vm.isfn(fn)&&fn.call(cvm,{path:p,oldv,newv:v})}else cb(!1,"datasource not match")}else cb(!1)}else{core_vm.tool.objSetDeep(cvm[core_vm.aprand].append_data,p,v,!0);var path=p.split(".")[0];-1===cvm[core_vm.aprand].datafrom_parent.indexOf(path)&&cvm[core_vm.aprand].datafrom_parent.push(path)}else cb(!1)},proto.addChildData=function(cvmid,p,index,v,cb){core_vm.isfn(cb)||(cb=this.__blankfn),"object"==typeof cvmid&&(cvmid=cvmid.id);var cvm=this.getChild(cvmid);if(cvm){var fp=p.split(".")[0];if(-1!=cvm[core_vm.aprand].datafrom_parent.indexOf(fp)){cvm.__confirm_add_data_to_el(cvm,p,index,v,function(res){cb(res)});var fn=cvm.event["pvm.adddata"];core_vm.isfn(fn)&&fn.call(cvm,{path:p,index,value:v})}else cb(!1,"datasource not match")}else cb(!1)},proto.delChildData=function(cvmid,p,index,count,cb){core_vm.isfn(cb)||(cb=this.__blankfn),"object"==typeof cvmid&&(cvmid=cvmid.id);var cvm=this.getChild(cvmid);if(cvm){var fp=p.split(".")[0];if(-1!=cvm[core_vm.aprand].datafrom_parent.indexOf(fp)){cvm.__confirm_del_data_to_el(cvm,p,index,count,function(res){cb(res)});var fn=cvm.event["pvm.deldata"];core_vm.isfn(fn)&&fn.call(cvm,{path:p,index,count})}else cb(!1,"datasource not match")}else cb(!1)}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.__setData=function(p,v){core_vm.tool.objSetDeep(this.data,p,v)},proto.__getData=function(p){return core_vm.tool.objGetDeep(this.data,p)};var check_source=function(vm,p){var fp=p.split(".")[0];return vm[core_vm.aprand].datafrom_parent.indexOf(fp)>-1?"parent":vm[core_vm.aprand].datafrom_store.indexOf(fp)>-1?"store":"self"};proto.__autobind_setData=function(p,v,oldv){this.setData(p,v)},proto.getData=function(p,cb){if(p&&core_vm.isfn(cb)){var vm=this,source=check_source(vm,p);if("self"==source)cb(null,null,source);else if("store"==source)vm.getapp().store.get.call(vm.getapp(),vm,p,function(data,opt){cb(data,opt,source)});else if("parent"==source){var pcb=vm.pvm.dataProxy;pcb&&(pcb=pcb.get),core_vm.isfn(pcb)?pcb.call(vm.pvm,vm,p,function(data,opt){cb(data,opt,source)}):cb(null)}}},proto.setData=function(p,v,cb){var vm=this;if(core_vm.isfn(cb)||(cb=vm.__blankfn),!p||void 0==v)return cb(!1);var oldv=vm.__getData(p);if(oldv===v)return cb(!1);var source=check_source(vm,p);if("self"==source)vm.__confirm_set_data_to_el(vm,p,v,oldv,cb),cb(!0,null,source);else if("store"==source)vm.getapp().store.set.call(vm.getapp(),vm,p,v,function(res,opt){res&&vm.__confirm_set_data_to_el(vm,p,v,oldv,cb),cb(res,opt,source)});else if("parent"==source){var pcb=vm.pvm.dataProxy;pcb&&(pcb=pcb.set),core_vm.isfn(pcb)?pcb.call(vm.pvm,vm,p,v,function(res,opt){res&&vm.__confirm_set_data_to_el(vm,p,v,oldv,cb),cb(res,opt,source)}):cb(!1,null,source)}else cb(!1,"datasource not match",source)},proto.addData=function(p,index,v,cb){var vm=this;if(core_vm.isfn(cb)||(cb=vm.__blankfn),!p||void 0==v)return cb(!1);var source=check_source(vm,p);if("self"==source)vm.__confirm_add_data_to_el(vm,p,index,v,cb);else if("store"==source)vm.getapp().store.add.call(vm.getapp(),vm,p,index,v,function(res,opt){res?vm.__confirm_add_data_to_el(vm,p,index,v,cb):cb(res,opt,source)});else if("parent"==source){var pcb=vm.pvm.dataProxy;pcb&&(pcb=pcb.add),core_vm.isfn(pcb)?pcb.call(vm.pvm,vm,p,index,v,function(res,opt){res?vm.__confirm_add_data_to_el(vm,p,index,v,cb):cb(res,opt,source)}):cb(!1,null,source)}else cb(!1,"datasource not match",source)},proto.delData=function(p,index,count,cb){var vm=this;if(core_vm.isfn(cb)||(cb=vm.__blankfn),!p)return cb(!1);if(parseInt(index)===index){count||(count=1);var source=check_source(vm,p);if("self"==source)vm.__confirm_del_data_to_el(vm,p,index,count,cb);else if("store"==source)vm.getapp().store.del.call(vm.getapp(),vm,p,index,count,function(res,opt){res?vm.__confirm_del_data_to_el(vm,p,index,count,cb):cb(res,opt,source)});else if("parent"==source){var pcb=vm.pvm.dataProxy;pcb&&(pcb=pcb.del),core_vm.isfn(pcb)?pcb.call(vm.pvm,vm,p,index,count,function(res,opt){res?vm.__confirm_del_data_to_el(vm,p,index,count,cb):cb(res,opt,source)}):cb(!1,null,source)}else cb(!1,"datasource not match",source)}}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.setChildOption=function(cvmid,p,v,cb){core_vm.isfn(cb)||(cb=this.__blankfn);var cvm=this.getChild(cvmid);if(!cvm)return cb(!1);if(cvm[core_vm.aprand].has_started){var oldv=core_vm.tool.objGetDeep(cvm.option,p);if(oldv===v)return cb(!1);var obj=cvm[core_vm.aprand].watching_option[p];if(Array.isArray(obj)){obj.forEach(function(opt){core_vm.tool.objSetDeep(cvm.option,p,v),core_vm.watchcb.watch(opt,p,oldv,v)});var fn=cvm.event["pvm.setoption"];core_vm.isfn(fn)&&fn.call(cvm,{path:p,newv:v,oldv})}else cb(!1)}else core_vm.tool.objSetDeep(cvm[core_vm.aprand].append_option,p,v,!0)}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.setState=function(p,v,cb){var oldv=core_vm.tool.objGetDeep(this.state,p);void 0!==p&&oldv!==v&&(!function(vm,p,v,oldv){core_vm.tool.objSetDeep(vm.state,p,v);var s=vm[core_vm.aprand].watching_state[p];Array.isArray(s)&&(s.length,s.forEach(function(opt,i){core_vm.watchcb.watch(opt,p,oldv,v)}))}(this,p,v,oldv),core_vm.isfn(cb)||(cb=this.__blankfn),this.pubup("state",{path:p,newv:v,oldv},cb))},proto.__autobind_setstate=function(p,v,oldv){this.setState(p,v)}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.__confirm_set_data_to_el=function(vm,p,v,oldv){if(void 0==oldv&&(oldv=vm.__getData(p)),oldv!==v){vm.__setData(p,v);var ps=p.split("."),len=ps.length;if(ps[len-1]==parseInt(ps[len-1]))p.substr(0,p.lastIndexOf("."));var __watching_data=vm[core_vm.aprand].watching_data[p]||vm[core_vm.aprand].watching_data["this.data."+p];if(Array.isArray(__watching_data)){__watching_data.forEach(function(opt,w_sn){if(opt.listid){for(var ps=p.split("."),listpath="",i=0;i<len&&(0==i?listpath=ps[0]:listpath+="."+ps[i],!Array.isArray(vm[core_vm.aprand].watching_list[listpath]));i++);if(""==listpath)return;var index,array=vm.__getData(listpath);if(!Array.isArray(array))return;for(i=0;i<len;i++)if(parseInt(ps[i])==ps[i]){index=parseInt(ps[i]);break}index>-1&&(ps.splice(0,i+1),ps.join(".")),opt.el=vm.getel("@"+opt.listid),opt.el&&(opt.el=opt.el[index],core_vm.watchcb.watch(opt,p,oldv,v))}else core_vm.watchcb.watch(opt,p,oldv,v)})}}},proto.__confirm_add_data_to_el=function(vm,p,index,v,cb){var array=vm.__getData(p);if(!Array.isArray(array))return cb(!1);-1==(index=parseInt(index))&&(index=array.length),array.splice(index,0,v);var _listing=vm[core_vm.aprand].watching_list[p]||vm[core_vm.aprand].watching_list["this.data."+p];Array.isArray(_listing)&&_listing.forEach(function(opt){core_vm.list.$add.call(array,opt,index,v)}),cb(!0)},proto.__confirm_del_data_to_el=function(vm,p,index,count,cb){var array=vm.__getData(p);if(!Array.isArray(array))return cb(!1);-1==(index=parseInt(index))&&(index=array.length),array.splice(index,count);var _listing=vm[core_vm.aprand].watching_list[p]||vm[core_vm.aprand].watching_list["this.data."+p];Array.isArray(_listing)&&_listing.forEach(function(opt){core_vm.list.$delat.call(array,opt,index)}),cb(!0)}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){var get_child_events=function(node,events){var str;events=events||[];if(node.event)for(var k in node.event)-1===events.indexOf(k)&&events.push((str=""+(str=k)).charAt(0).toLowerCase()+str.slice(1));if(node.childNodes)for(var k in node.childNodes)events=get_child_events(node.childNodes[k],events);return events};proto.__bind_as_top_view=function(node,el){core_vm.elset(el,"bindsidofvm",this.sid),el._hasbindastop=el._hasbindastop||[];var events=get_child_events(node,[]);for(var k in events)-1==el._hasbindastop.indexOf(events[k])&&(el._hasbindastop.push(events[k]),this.__bind(el,events[k],core_vm.eventdom.all))},proto.__unbindel=function(el){var s=this[core_vm.aprand].els_binded,len=s.length;for(i=len-1;i>-1;i--)if(s[i][0]===el){el.removeEventListener(s[i][1],s[i][2]),s.splice(i,1);break}},proto.__unbindall=function(event,el,fn){this[core_vm.aprand].els_binded.forEach(function(e){e[0].removeEventListener(e[1],e[2])}),this[core_vm.aprand].els_binded=[]},proto.__bind=function(el,event,fn,ifdirect){if(el&&core_vm.isfn(fn)&&"string"==typeof event&&el.addEventListener){if(ifdirect)return this[core_vm.aprand].els_binded.push([el,event,fn]),void el.addEventListener(event,fn);var vm=this,velfn=function(e){fn.call(e.target,e,vm)};this[core_vm.aprand].els_binded.push([el,event,velfn]),el.addEventListener(event,velfn)}},proto.__bind_events=function(el){var domeventnames=this[core_vm.aprand].domeventnames,domeventnames_binded=this[core_vm.aprand].domeventnames_binded;for(var name in domeventnames)if(name.indexOf(":")>-1&&(name=name.substr(0,name.indexOf(":"))),-1==domeventnames_binded.indexOf(name))if(domeventnames_binded.push(name),el)this.__bind(el||this.pel,name,core_vm.eventdom.all);else for(var k in this[core_vm.aprand].els)this.__bind(this[core_vm.aprand].els[k],name,core_vm.eventdom.all)}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){function intersect(arr1,arr2){if(!Array.isArray(arr1)||!Array.isArray(arr2))return[];for(var res=[],i=0;i<arr1.length;i++)for(var j=0;j<arr2.length;j++)arr1[i]==arr2[j]&&(res.push(arr1[i]),arr1.splice(i,1),arr2.splice(j,1),i--,j--);return res}proto.__delel_watchcb_notfind=function(id){for(var k in this[core_vm.aprand].elsdom.id)this[core_vm.aprand].elsdom.id[k]==id&&delete this[core_vm.aprand].elsdom.id[k]},proto.getel=function(name){if(!name)return this[core_vm.aprand].els;"#"!==name[0]&&"."!==name[0]&&"$"!==name[0]&&"@"!==name[0]&&(name="#"+name);var elsdom=this[core_vm.aprand].elsdom;if("#"==name[0]){var id=elsdom.id[name.substr(1)];return void 0==id?null:null==id?(delete elsdom.id[name.substr(1)],null):document.getElementById(id)}var els=[],ids=[];if("@"==name[0])ids=elsdom.listel[name.substr(1)];else if("$"==name[0])ids=elsdom.role[name.substr(1)];else if("."==name[0])if(-1==(name=name.substr(1)).indexOf("."))ids=elsdom.class[name];else{for(var k in name=name.split("."))name[k]=core_vm.tool.trim(name[k]);var id_s=[];for(var k in name)id_s[k]=[],Array.isArray(elsdom.class[name[k]])&&elsdom.class[name[k]].forEach(function(tid){id_s[k].push(tid)});if(ids=intersect(id_s[0],id_s[1]),id_s.length>2)for(var i=2;i<id_s.length;i++)ids=intersect(ids,id_s[i])}if(ids){i=0;for(var len=ids.length;i<len;i++)els.push(document.getElementById(ids[i])||null);for(i=ids.length-1;i>-1;i--)null==els[i]&&(els.splice(i,1),ids.splice(i,1))}return els},proto.__regel=function(type,name,webelid_or_mob_el,index){var elsdom=this[core_vm.aprand].elsdom;if("id"==type)elsdom.id[name]=webelid_or_mob_el;else if("listel"==type){elsdom.listel[name]=elsdom.listel[name]||[];var obj=elsdom.listel[name];-1==obj.indexOf(webelid_or_mob_el)&&(void 0!=index?obj.splice(index,0,webelid_or_mob_el):obj.push(webelid_or_mob_el))}else if("classList"==type){var array=name;for(var k in array)!0===this.getapp().config.strategy.cacheClassesAll&&-1!==this.config.cacheClasses.indexOf(array[k])&&(elsdom.class[array[k]]=elsdom.class[array[k]]||[],-1==elsdom.class[array[k]].indexOf(webelid_or_mob_el)&&(void 0!=index?elsdom.class[array[k]].splice(index,0,webelid_or_mob_el):elsdom.class[array[k]].push(webelid_or_mob_el)))}else"role"==type&&(elsdom.role[name]=elsdom.role[name]||[],-1==elsdom.role[name].indexOf(webelid_or_mob_el)&&(void 0!=index?elsdom.role[name].splice(index,0,webelid_or_mob_el):elsdom.role[name].push(webelid_or_mob_el)))},proto.delel=function(thisel,ifchild,ifhas_remove_from_parent){var velid,vclass,role;if(thisel){var elsdom=this[core_vm.aprand].elsdom;if(velid=thisel.getAttribute("id"),vclass=thisel.getAttribute("classList"),role=thisel.getAttribute("role"),velid){for(var k in elsdom.id)elsdom.id[k]===velid&&delete elsdom.id[k];if(elsdom.id[velid]&&delete elsdom.id[velid],thisel.listid){var ids=elsdom.listel[thisel.listid];if(Array.isArray(ids))(index=ids.indexOf(velid))>-1&&ids.splice(index,1)}if(role)if(elsdom.role[role])(index=elsdom.role[role].indexOf(velid))>-1&&elsdom.role[role].splice(index,1);if(vclass)for(var k in vclass){var index;if(elsdom.class[vclass[k]])(index=elsdom.class[vclass[k]].indexOf(velid))>-1&&elsdom.class[vclass[k]].splice(index,1)}}if(thisel.childNodes)for(var i=0,len=thisel.childNodes.length;i<len;i++)1==thisel.childNodes[i].nodeType&&this.delel.call(this,thisel.childNodes[i],!0);ifchild||thisel.parentNode.removeChild(thisel)}}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.sethtml=function(el,html){if("string"==typeof el&&(el=this.getel(el)),el){for(var els=el.childNodes,i=els.length-1;i>-1;i--)el.removeChild(els[i]);this.addhtml(el,html)}},proto.addhtml=function(el,html){if("string"==typeof el&&(el=this.getel(el)),el){var vm=this,json=core_vm.calhtmltojson(html,vm[core_vm.aprand].node_max_sn+1,0,vm.getapp(),2);vm[core_vm.aprand].nodejson.push(json[0]),core_vm.create.nodes(vm,json[0],vm[core_vm.aprand].rootscope,el),this.__bind_as_top_view(json[0],el)}}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.__auto_sub_app=function(){for(var k in this.event)"app."==k.substr(0,4)&&(this.event[k],1)&&this.getapp().sub(k.substr(4),this,this.event[k])},proto.__auto_unsub_app=function(){for(var k in this.event)"app."==k.substr(0,4)&&(this.event[k],1)&&this.getapp().unsub(k.substr(4),this,this.event[k])},proto.pubapp=function(name,data,cb){this.getapp().pub(name,data,this,cb)},proto.pubup=function(name,data,cb){if(this.pvm){var fn=this[core_vm.aprand].pvmevent[name];if(fn||(fn=this.pvm.event[this.id+"."+name]),fn||(fn=this.pvm.event["child."+name]),fn&&(core_vm.isfn(fn)||(fn=core_vm.tool.objGetDeep(this.pvm,fn)),core_vm.isfn(fn)||(fn=core_vm.tool.objGetDeep(this.pvm.event,fn)),core_vm.isfn(fn))){var vm=this,pvm=this.pvm;fn.call(this.pvm,data,this,function(data){core_vm.isfn(cb)&&cb.call(vm,data,pvm)})}}},proto.pubdown=function(cvmid,name,data,cb){var vm=this;if("object"==typeof cvmid&&(cvmid=cvmid.id),!cvmid)return!1;("*"==cvmid?Object.keys(this[core_vm.aprand].vmchildren):[cvmid]).forEach(function(cvmid){var cvm=vm.getChild(cvmid);if(cvm){var fn=cvm.event["pvm."+name];core_vm.isfn(fn)&&fn.call(cvm,data,vm,function(data){core_vm.isfn(cb)&&cb.call(vm,data,cvm)})}else core_vm.isfn(cb)&&cb({error:"no.such."+cvmid})})}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.__addto_onstart=function(cb){1!==this[core_vm.aprand].has_started?this[core_vm.aprand].cbs_onstart.push(cb):core_vm.tryfn(this,cb,[this],"vm.onstart")},proto.__addto_onshow=function(cb){1!==this[core_vm.aprand].has_started?this[core_vm.aprand].cbs_onshow.push(cb):core_vm.tryfn(this,cb,[this],"vm.onshow.addto")},proto.__onshow=function(){for(var k in this[core_vm.aprand].cbs_onshow)core_vm.tryfn(this,this[core_vm.aprand].cbs_onshow[k],[this],"vm.onshow.exe");for(var k in this[core_vm.aprand].cbs_onshow=[],this[core_vm.aprand].cbs_onstart)this[core_vm.aprand].cbs_onstart[k].call(this);this[core_vm.aprand].cbs_onstart=[],core_vm.isfn(this[core_vm.aprand].startcb_of_vmstart)&&core_vm.tryfn(this,this[core_vm.aprand].startcb_of_vmstart,[],"vm.start.cb,id="+this.id),this.__clean_tmp_after_start()};var check_slot=function(vm,nodes){for(var sn=0,len=nodes.length;sn<len;sn++)"slot"!=nodes[sn].tag||nodes[sn].attr&&nodes[sn].attr.name?check_slot(vm,nodes[sn].childNodes):core_vm.inject.use_inject_nodes_when_create(vm,nodes[sn])};proto.__vmstart=function(startcb){if(1!=this[core_vm.aprand].has_started){var vm=this;if(core_vm.isfn(startcb)&&(vm[core_vm.aprand].startcb_of_vmstart=startcb),!core_vm.isfn(this.hookStart)||this.__hookStart_has_called){core_vm.tryvmfn(vm.pvm,vm,"beforechildstart"),core_vm.tryvmfn(vm,null,"beforestart");var bodytext=vm.getcache().get_body(vm);core_vm.isfn(vm.hookTemplate)?core_vm.cal.nodejson(vm,vm.hookTemplate(bodytext)):core_vm.cal.nodejson(vm,bodytext),check_slot(vm,vm[core_vm.aprand].nodejson[0].childNodes);var styletext=vm.getcache().get_vmstyle(vm);styletext&&(core_vm.isfn(vm.hookStyle)&&(styletext=vm.hookStyle(styletext)),core_vm.web_private_style.add(vm,styletext)),core_vm.start.web(vm),vm[core_vm.aprand].has_started_self=1,0==vm.getapp().config.strategy.append_to_pel_wait_loading_child_vm&&vm.__append_bin_el(),0==vm[core_vm.aprand].loadingsub_count&&vm.__onstart_a_zero_sub()}else{vm.getapp().hookstart_ing_vm=vm;try{this.hookStart.call(this,function(result){vm.getapp().hookstart_ing_vm=null,vm.__hookStart_has_called=1,!1!==result?vm.__vmstart(startcb):(vm[core_vm.aprand].startcb_of_vmstart&&vm[core_vm.aprand].startcb_of_vmstart(!1),vm.__init(!0))})}catch(e){core_vm.devalert(vm.getnap(),"hookStart error",vm.src,e),vm.getapp().hookstart_ing_vm=null,this.hookStart=null,vm.__vmstart(startcb)}}}},proto.__onstart_a_zero_sub=function(){var vm=this;this.__top_fragment&&1==this[core_vm.aprand].has_started_self&&1==vm.getapp().config.strategy.append_to_pel_wait_loading_child_vm&&vm.__append_bin_el(),vm.pvm?setTimeout(function(){vm.pvm[core_vm.aprand].loadingsub_count--,0==vm.pvm[core_vm.aprand].loadingsub_count&&vm.pvm.__onstart_a_zero_sub()},0):setTimeout(function(){0==vm.getapp().hasstart&&(vm.getapp().hasstart=1,console.log("app.onstart1"),vm.getapp().onstart())},10)},proto.__after_append_real=function(){var vm=this;vm[core_vm.aprand].has_started=1,delete vm._is_fresh_ing,vm.__onshow.call(vm),core_vm.tryvmfn(vm,vm,"onstart"),core_vm.tryvmfn(vm.pvm,vm,"onchildstart")},proto.__after_append=function(){var vm=this;1==vm.getapp().config.strategy.append_to_pel_wait_loading_child_vm&&this.pvm?this.pvm.__addto_onshow(function(){vm.__after_append_real()}):this.__after_append_real()},proto.__append_bin_el=function(){var vm=this,fragment=vm.__top_fragment;if(fragment){var children=fragment.childNodes||[],len=children.length;for(i=0;i<len;i++)vm[core_vm.aprand].els.push(children[i]);var vmpel=vm.pel,i=0,__appento_ppel=!1;if(1!=vm[core_vm.aprand].nodejson[0].childNodes.length||1!=len||"ppel"!=core_vm.elget(vmpel,"appendto")&&"ppel"!=vm.config.appendto)vmpel.appendChild(fragment);else{vm.config.appendto="ppel",core_vm.elset(vmpel,"_role_","placeholder");var el=children[0],ppel=vmpel.parentNode;ppel.appendChild(el),vmpel.after(el),ppel.removeChild(vmpel),vm.__addto_onshow(function(){vm.ppel=vm[core_vm.aprand].els[0].parentNode}),el.replaced_pel=vmpel;var node=vm[core_vm.aprand].nodejson[0].childNodes[0];if(node.event=node.event||{},vm[core_vm.aprand].pvmelevent)for(var k in vm[core_vm.aprand].pvmelevent)node.event[k]=vm[core_vm.aprand].pvmelevent[k];vm.__bind_as_top_view(node,el,"because.ppel"),__appento_ppel=!0}for(var k in delete vm.__top_fragment,vm[core_vm.aprand].pvmelevent)vm[core_vm.aprand].domeventnames[k]=1;__appento_ppel||vm.__bind_events(),setTimeout(function(){vm.__after_append()},0)}},proto.restart=function(json,cb){this.close(),core_vm.isfn(json)?this.start(cb):core_vm.isobj(json)?(json.src&&this.__setsrc(json.src),this._is_fresh_ing=!0===json.fresh,this.start(cb)):this.start(cb)},proto.start=function(cb){core_vm.isfn(cb)||(cb=function(){}),this[core_vm.aprand].has_defined?this.__initdata_then_start(cb):core_vm.load(this,cb)},proto.show=function(){for(var els=this[core_vm.aprand].els,i=els.length-1;i>-1;i--)els[i].style.display=core_vm.elget(els[i],"lastdisplay")||""},proto.hide=function(){for(var els=this[core_vm.aprand].els,i=els.length-1;i>-1;i--)core_vm.elset(els[i],"lastdisplay",els[i].style.display||""),els[i].style.display="none"}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0);module.exports.setproto=function(proto){proto.__initdata_then_start=function(cb){var vm=this;core_vm.elset(vm.pel,"bindsidofvm",this.sid),core_vm.elset(vm.pel,"isvmpel",!0),vm[core_vm.aprand].rootscope={alias:"",path:"",pscope:null,aid:0},core_vm.inject.inject_from_pvm_before_start(vm,vm[core_vm.aprand].rootscope),core_vm.tool.deepmerge(vm.data,vm[core_vm.aprand].append_data),core_vm.tool.deepmerge(vm.option,vm[core_vm.aprand].append_option),vm.getapp().store&&vm.getapp().store.vminit?vm.getapp().store.vminit.call(vm.getapp(),vm,function(data){if("object"==typeof data&&!Array.isArray(data)){for(var k in data)vm[core_vm.aprand].datafrom_store.push(k);if(vm.getapp().config.strategy.auto_deepclone_store_data)core_vm.tool.deepmerge(vm.data,core_vm.tool.objClone(data));else for(var k in data)vm.data[k]=data[k]}vm.pvm&&vm.pvm.dataProxy&&core_vm.isfn(vm.pvm.dataProxy.vminit)?vm.pvm.dataProxy.vminit.call(vm.pvm,vm,function(data){if(data&&"object"==typeof data&&!Array.isArray(data)){for(var k in data)vm[core_vm.aprand].datafrom_parent.push(k);if(vm.getapp().config.strategy.auto_deepclone_store_data)core_vm.tool.deepmerge(vm.data,core_vm.tool.objClone(data));else for(var k in data)vm.data[k]=data[k]}vm.__vmstart(cb)}):vm.__vmstart(cb)}):vm.__vmstart(cb)}}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),_reqlib=__webpack_require__(1),_requirecache=__webpack_require__(2),_req_caltext=__webpack_require__(52),_libcal={};module.exports=_libcal,_libcal.evalResponse_genmod=function(spec,cb,meta,template,style_str,extend_from,when){if("vm"==spec.type&&extend_from)core_vm.extend.onload(spec,cb,meta,template,style_str,extend_from,when);else{var mod=_requirecache.get(spec.app,spec.vm,spec.id,"",spec.type,"genmod_3",spec.urlsid);"vm"==spec.type&&(spec.app.__cache.add_vmbody(spec.id,template,2),style_str&&spec.app.__cache.add_vmstyle_inline(spec.id,style_str)),cb(null,mod)}},_libcal.evalResponse=function(when,spec,responseText,cb,loads){if(spec.url&&spec.id)if(spec.loadfilefresh&&_requirecache.loadfilefresh_clear(spec,spec.id),"css"!=spec.type&&"block"!=spec.type&&"text"!=spec.type){if("json"==spec.type){var obj={};try{obj=JSON.parse(responseText)}catch(e){core_vm.devalert(spec.app,"json error")}return _requirecache.define(spec,spec.id,obj,spec.type,spec.refsid),void cb(null,core_vm.tool.objClone(obj))}var array=_req_caltext(responseText,spec.id,spec.type,spec),funcpara="require,module,exports,";funcpara+="app";array[0];try{var newfn=new Function(funcpara,(1==spec.app.config.isdev?"//# sourceURL="+spec.url+"\n":"")+array[0])}catch(err){return core_vm.devalert(spec.app,"js_SyntaxError:",spec.url+"\n"+err.toString()),void cb(new Error("js_SyntaxError"),null)}if(_requirecache.define(spec,spec.id,newfn,spec.type,spec.refsid),array[4]||array[5].length>0){var extend_from=array[4],deps=array[5],needs=[];for(var k in deps){var src=deps[k].src,type=deps[k].type;if("css"==type)needs.push({url:src,type:"css"});else if("vm"==type)needs.push({url:src,type:"vm"});else if("block"==type){if(deps[k].src){var depobj={url:deps[k].src,type:"block"};deps[k].importname?depobj.importname=deps[k].importname:deps[k].pathtag&&(depobj.pathtag=deps[k].pathtag),needs.push(depobj)}}else"lib"!=type&&"json"!=type||needs.push({id:src,url:src,type,importname:deps[k].importname})}extend_from&&needs.push({url:extend_from,type:"vm",ifextend:1});for(var i=needs.length-1;i>-1;i--)needs[i].fresh=spec.fresh,needs[i].pvmpath=spec.id,needs[i].loadvm=spec.loadvm,needs[i].app=spec.app,"vm"==needs[i].type&&spec.app.config.path.vm[needs[i].url]?(needs[i].url=spec.app.config.path.vm[needs[i].url],needs[i].knowpath=!0):"lib"!=needs[i].type&&"json"!=needs[i].type||!spec.app.config.path.lib[needs[i].url]||(needs[i].url=spec.app.config.path.lib[needs[i].url],needs[i].knowpath=!0),needs[i].type;for(var k in needs)_reqlib.cal_spec_path(needs[k],spec.url),needs[k].ifextend&&(extend_from=needs[k].id);for(i=needs.length-1;i>-1;i--)needs[i].from="deps",needs[i].refsid=spec.app.__cache.geturlsid(spec.id),needs[i].refsid||console.error("refsid",needs[i].url),!spec.fresh&&spec.app.__cache.check_ifhas(needs[i].type,needs[i].id,needs[i].refsid)&&needs.splice(i,1);0==needs.length?_libcal.evalResponse_genmod(spec,cb,array[1],array[2],array[3],extend_from,0):loads(needs,function(errcount,errs,mods){if(errcount){for(var k in core_vm.devalert(spec.app,"needs error",spec.id,spec.url,errs),errs)errs[k]&&core_vm.onerror(spec.app,errs[k].type,needs[k].id,errs[k].error);_libcal.evalResponse_genmod(spec,cb,array[1],array[2],array[3],extend_from,2)}else _libcal.evalResponse_genmod(spec,cb,array[1],array[2],array[3],extend_from,1)})}else _libcal.evalResponse_genmod(spec,cb,array[1],array[2],array[3],array[4],3)}else cb(null,responseText);else cb({type:"para",error:"!spec.url"},null)}},function(module,exports,__webpack_require__){var core_vm=__webpack_require__(0),_reqlib=__webpack_require__(1),requirePattern=/(?:^|[^\w\$_.])require\s*\(\s*["']([^"']*)["']\s*\)/g,reg_elhook=new RegExp(" el-hook=['\"](.*?)['\"]","ig"),reg_style=new RegExp("<style(.*?)>([^<]*)</style>","ig"),reg_body=new RegExp("<body(.*?)>([\\s\\S]*?)</body>","i"),reg_template=new RegExp("<template(.*?)>([\\s\\S]*?)</template>","i"),reg_script=new RegExp("<script(.*?)>([\\s\\S]*?)<\/script>","ig"),reg_html=new RegExp("<html(.*?)>([\\s\\S]*?)</html>","i"),reg_head=new RegExp("<head(.*?)>([\\s\\S]*?)</head>","i"),reg_import=(new RegExp("<prototype>([\\s\\S]*?)</prototype>","i"),new RegExp("<import([\\s\\S]*?)>[</import>]*?","ig")),adddep=function(deps,obj){if(""!=obj.src){var findsame=0==deps.length?0:1;for(var k in deps){findsame=1;for(var n in obj)obj[n]!==deps[k][n]&&(findsame=0);if(1==findsame)break}0==findsame&&deps.push(obj)}};module.exports=function(content,id,type,spec){var all_str=core_vm.delrem(content),script_str="vm"==type?"":all_str,style_str="",body_str=null,meta_str="",html_str="",extend_from="",deps=[];if("vm"==type){for(var k in spec.app.config.precode_regexp)all_str=all_str.replace(spec.app.config.precode_regexp[k],function(a,b,c,d){return"<"+k+b+">"+core_vm.tool.htmlescape(c.replace(/\n/,""))+"</"+k+">"});for(var k in all_str=(all_str=(all_str=(all_str=(all_str=all_str.replace(reg_style,function(a,b,c,d){var match;return b&&(match=b.match(/src=['"](.*?)['"]/)),match?adddep(deps,{type:"css",src:match[1],urlsid:spec.urlsid}):c&&(style_str+=c),""})).replace(reg_import,function(a,b){var type,name;b.replace(/[\s]{1,}type=['"]([\S]*?)['"]([\s]{0,}|[\>\/])/i,function(a,b){type=b}),b.replace(/[\s]{1,}src=['"]([\S]*?)['"]([\s]{0,}|[\>\/])/i,function(a,b){src=b}),b.replace(/[\s]{1,}name=['"]([\S]*?)['"]([\s]{0,}|[\>\/])/i,function(a,b){name=b});var src=_reqlib.gen_path(spec.app,src,spec.id,!0,1);return"prototype"==type&&(extend_from=src),spec.app.__cache.add_import_src_when_cal(type,spec.urlsid,name,src),spec.app.__cache.check_ifhas(type,src,spec.urlsid)?"":("vm"==type||("block"==type?adddep(deps,{type,from:"import",src,utag:name||src}):"css"==type?adddep(deps,{type:"css",src,urlsid:spec.urlsid}):"lib"==type?adddep(deps,{type:"lib",src,urlsid:spec.urlsid}):"json"==type&&adddep(deps,{type:"json",src,urlsid:spec.urlsid})),"")})).replace(reg_body,function(a,b,c){return body_str=c,""})).replace(reg_script,function(a,b,c){return script_str+=c,""})).replace(reg_html,function(a,b,c){return html_str=c,""}),html_str&&(html_str=html_str.replace(reg_head,function(a,b,c){return meta_str=c,""}),null==body_str&&(body_str=html_str)),null==body_str&&(all_str=all_str.replace(reg_template,function(a,b,c){return body_str=c,""})),(null==body_str||function(str){for(var i=0,len=str.length;i<len;i++)if(str.charCodeAt(i)>32)return!1;return!0}(body_str))&&(body_str=""),body_str=(body_str=body_str.replace(/\{app\.(.*?)}/g,function(a,b,c,d){return core_vm.tool.objGetDeep(spec.app,b)})).replace(reg_elhook,function(a,b,c,d){if(spec.app.__cache.use.elhook[b]||0===b.indexOf("this."))return' el-hook="'+b+'" ';if(spec.app.config.path.elhook[b])return adddep(deps,{type:"lib",src:spec.app.config.path.elhook[b]}),' el-hook="'+b+'" ';var abs_b=_reqlib.gen_path(spec.app,b,spec.id,!0,2);return adddep(deps,{type:"lib",src:abs_b,importname:b}),' el-hook="'+abs_b+'" '}),spec.app.config.blockpath_regexp)body_str.replace(spec.app.config.blockpath_regexp[k],function(a,b,c,d){adddep(deps,{type:"block",src:spec.app.config.path.block[k],pathtag:k}),delete spec.app.config.blockpath_regexp[k]})}return script_str&&(script_str=script_str.replace(requirePattern,function(a,b,c,d){var abs_b,str,importname=spec.app.__cache.check_if_import("lib",spec.urlsid,b);if(importname||(importname=spec.app.__cache.check_if_import("json",spec.urlsid,b)),importname)return a.replace(b,importname);if(spec.app.config.path.lib[b]?(abs_b=spec.app.config.path.lib[b],str=a):(abs_b=_reqlib.gen_path(spec.app,b,spec.id,!0,3),str=a.replace(b,abs_b)),spec.app.__cache.get_jslib(abs_b))return str;var obj={from:"require",type:"lib",src:abs_b};return b.indexOf(".json")>0&&b.lastIndexOf(".json")===b.length-5&&(obj.type="json"),adddep(deps,obj),str})),script_str||0!=deps.length||extend_from||(script_str=null==body_str?all_str:""),[script_str.replace(/cor\e\./g,"co.").replace(/gcach\e\./g,"o0."),meta_str,body_str,style_str,extend_from,deps]}}])});